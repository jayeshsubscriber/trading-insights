<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Watchlist - Approach 1: Unified View</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Upstox Design System Variables */
        :root {
            --bg-default: #FFFFFF;
            --bg-ui-1: #F2F2F2;
            --bg-ui-3: #E1E1E1;
            --bg-ui-4: #D0D0D0;
            --bg-primary: #5A298B;
            --bg-tan: #EEEBE6;
            --bg-gold: #A09568;
            --text-1: #262626;
            --text-2: #6A6A6A;
            --text-3: #FFFFFF;
            --text-alt: #929292;
            --positive: #148564;
            --negative: #DB542A;
            --padding-h: 16px;
            --row-height: 56px;
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--bg-ui-1);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .phone-container {
            width: 360px;
            height: 800px;
            background: var(--bg-default);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Status Bar */
        .status-bar {
            height: 24px;
            background: var(--bg-default);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            flex-shrink: 0;
        }

        .status-bar.light {
            background: var(--bg-default);
        }

        .status-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-time {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-1);
        }

        .status-bar.light .status-time {
            color: var(--text-1);
        }

        .status-icons {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .status-icons svg {
            width: 16px;
            height: 16px;
            fill: var(--text-1);
        }

        .status-bar.light .status-icons svg {
            fill: var(--text-1);
        }

        /* Main Header - Shared Account + Icons */
        .main-header {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 0;
            width: 100%;
            height: 56px;
            background: #FFFFFF;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.08);
            flex-shrink: 0;
            z-index: 10;
        }

        .main-header-lhs {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 0 0 0 12px;
            flex: 1;
            height: 56px;
            gap: 12px;
        }

        .up-logo {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
            overflow: hidden;
        }

        .up-logo img {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            object-fit: cover;
        }

        .up-logo-dropdown {
            position: absolute;
            width: 16px;
            height: 16px;
            right: -2px;
            bottom: -2px;
            background: #FFFFFF;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .up-logo-dropdown svg {
            width: 12px;
            height: 12px;
            fill: #212121;
        }

        .search-pill {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10px 12px;
            gap: 4px;
            flex: 1;
            height: 32px;
            background: #F2F2F2;
            border: 1px solid #E1E1E1;
            border-radius: 999px;
        }

        .search-pill-text {
            font-size: 12px;
            font-weight: 400;
            color: var(--text-1);
            opacity: 0.7;
        }

        .search-pill-keyword {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-1);
            opacity: 0.8;
        }

        .main-header-rhs {
            display: flex;
            flex-direction: row;
            justify-content: flex-end;
            align-items: center;
            padding: 0 12px;
            gap: 4px;
            height: 56px;
        }

        .header-icon-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            border-radius: 16px;
        }

        .header-icon-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--text-1);
        }

        .icon-360 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .icon-360 svg {
            width: 20px;
            height: 12px;
        }

        .icon-360-text {
            font-size: 10px;
            font-weight: 500;
            color: var(--text-1);
            line-height: 1;
        }

        .notification-badge {
            position: absolute;
            min-width: 16px;
            height: 16px;
            right: -3px;
            top: -3px;
            background: #DB542A;
            border: 1px solid #FFFFFF;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2px 4px;
        }

        .notification-badge span {
            font-size: 10px;
            font-weight: 500;
            color: #FFFFFF;
            line-height: 1;
        }

        /* Legacy Header */
        .header {
            background: var(--bg-primary);
            padding: 0 var(--padding-h);
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .header-left {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .header-title-row {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .header-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-3);
        }

        .header-dropdown {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-dropdown svg {
            width: 12px;
            height: 12px;
            fill: var(--text-3);
        }

        .header-subtitle {
            font-size: 12px;
            font-weight: 400;
            color: var(--bg-tan);
            display: flex;
            gap: 4px;
        }

        .header-subtitle span.separator {
            opacity: 0.6;
        }

        .header-right {
            display: flex;
            gap: 24px;
        }

        .header-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .header-icon svg {
            width: 20px;
            height: 20px;
            fill: var(--text-3);
        }

        /* Light Header */
        .header-light {
            background: var(--bg-default);
            border-bottom: 1px solid var(--bg-ui-3);
            height: 56px;
            display: flex;
            align-items: center;
            padding: 0 var(--padding-h);
            gap: 16px;
            flex-shrink: 0;
        }

        .header-back {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .header-back svg {
            width: 20px;
            height: 20px;
            fill: var(--text-1);
        }

        .header-light-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-1);
            flex: 1;
        }

        .header-follow-btn {
            padding: 6px 14px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-1);
            border: 1px solid var(--bg-ui-4);
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .header-follow-btn.following {
            background: var(--bg-primary);
            color: var(--text-3);
            border-color: var(--bg-primary);
        }

        .header-follow-btn svg {
            width: 14px;
            height: 14px;
        }

        .bottom-cta-button {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 0 16px;
            width: calc(100% - 32px);
            height: 48px;
            background: var(--bg-primary);
            color: var(--text-3);
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 16px var(--padding-h);
            border: none;
            flex-shrink: 0;
            gap: 8px;
            white-space: nowrap;
        }

        .bottom-cta-button.following {
            background: var(--bg-default);
            color: var(--bg-primary);
            border: 1px solid var(--bg-primary);
        }

        .bottom-cta-button svg {
            width: 18px;
            height: 18px;
            fill: var(--text-3);
        }

        .bottom-cta-button.following svg {
            fill: var(--bg-primary);
        }

        /* Market Ticker */
        /* Indices Section */
        .ticker {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            padding: 0;
            width: 100%;
            height: 56px;
            background: #F2F2F2;
            border-bottom: 1px solid #D0D0D0;
            flex-shrink: 0;
        }

        .ticker-item {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            padding: 4px 8px;
            flex: 1;
            height: 56px;
        }

        .ticker-left {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 0;
        }

        .ticker-symbol {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 700;
            font-size: 12px;
            line-height: 16px;
            color: var(--text-1);
        }

        .ticker-right {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
        }

        .ticker-price {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 600;
            font-size: 16px;
            line-height: 24px;
            text-align: right;
        }

        .ticker-price.negative {
            color: #DB542A;
        }

        .ticker-price.positive {
            color: #148564;
        }

        .ticker-change {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 400;
            font-size: 10px;
            line-height: 16px;
            text-align: right;
        }

        .ticker-change.negative {
            color: #DB542A;
        }

        .ticker-change.positive {
            color: #148564;
        }

        .ticker-divider {
            display: flex;
            align-items: center;
            padding: 8px 0;
            height: 56px;
        }

        .ticker-divider-line {
            width: 1px;
            height: 40px;
            background: #E1E1E1;
        }

        .ticker-expand {
            width: 24px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .ticker-expand svg {
            width: 16px;
            height: 16px;
            fill: var(--text-1);
        }

        /* Watchlist Tabs */
        .watchlist-tabs-container {
            background: var(--bg-default);
            border-bottom: 1px solid var(--bg-ui-3);
            flex-shrink: 0;
        }

        .watchlist-tabs {
            display: flex;
            align-items: center;
            padding: 0 var(--padding-h);
            gap: 4px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .watchlist-tabs::-webkit-scrollbar {
            display: none;
        }

        .watchlist-tab {
            padding: 12px 12px;
            font-size: 14px;
            font-weight: 400;
            color: var(--text-2);
            white-space: nowrap;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .watchlist-tab.active {
            color: var(--bg-primary);
            font-weight: 600;
            border-bottom-color: var(--bg-primary);
        }

        .watchlist-tab .tab-badge {
            font-size: 10px;
            padding: 1px 5px;
            border-radius: 8px;
            font-weight: 500;
        }

        .watchlist-tab .tab-badge.preset {
            background: rgba(90, 41, 139, 0.1);
            color: var(--bg-primary);
        }

        .watchlist-tab .tab-badge.screener {
            background: rgba(20, 133, 100, 0.1);
            color: var(--positive);
        }

        .tab-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px var(--padding-h) 12px 8px;
            margin-left: auto;
            flex-shrink: 0;
        }

        .tab-action-btn {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .tab-action-btn svg {
            width: 18px;
            height: 18px;
            fill: var(--text-2);
        }

        /* List Description */
        .list-description {
            padding: 8px var(--padding-h);
            background: var(--bg-ui-1);
            font-size: 12px;
            color: var(--text-2);
            border-bottom: 1px solid var(--bg-ui-3);
        }

        /* Filter Chips */
        .filter-chips {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 6px 0 8px 16px;
            gap: 8px;
            background: #FFFFFF;
            overflow-x: auto;
        }

        .filter-chip {
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 4px 12px;
            gap: 8px;
            height: 28px;
            background: #FFFFFF;
            border: 1px solid #E1E1E1;
            border-radius: 6px;
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 700;
            font-size: 12px;
            line-height: 16px;
            color: #262626;
            white-space: nowrap;
            cursor: pointer;
            flex: none;
        }

        .filter-chip.active {
            background: #F7F4F9;
            border: 1px solid #5A298B;
            color: #5A298B;
        }

        .filter-chip svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }

        /* Filter Dropdowns */
        .filter-dropdowns {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 8px 16px;
            gap: 8px;
            background: #FFFFFF;
        }

        .filter-dropdown {
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 4px 6px 4px 10px;
            gap: 2px;
            height: 28px;
            background: #FFFFFF;
            border: 1px solid #E1E1E1;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
        }

        .filter-dropdown:hover {
            border-color: #CCCCCC;
        }

        .filter-dropdown-label {
            font-family: inherit;
            font-style: normal;
            font-weight: 700;
            font-size: 12px;
            line-height: 16px;
            display: flex;
            align-items: center;
            text-align: center;
            color: #262626;
            white-space: nowrap;
        }

        .filter-dropdown-icon {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .filter-dropdown-icon svg {
            width: 16px;
            height: 16px;
            fill: #262626;
        }

        .filter-separator {
            width: 1px;
            height: 20px;
            background: #E1E1E1;
        }

        /* Dropdown Menu */
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 4px;
            background: #FFFFFF;
            border: 1px solid #E1E1E1;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
            z-index: 1000;
            min-width: 120px;
            overflow: hidden;
        }

        .dropdown-menu.active {
            display: block;
        }

        .dropdown-option {
            padding: 10px 14px;
            font-size: 13px;
            color: #262626;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dropdown-option:hover {
            background: #F5F5F5;
        }

        .dropdown-option.selected {
            background: #F7F4F9;
            color: #5A298B;
            font-weight: 600;
        }

        .dropdown-option.selected::after {
            content: '';
            width: 16px;
            height: 16px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%235A298B'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
            background-size: contain;
            margin-left: auto;
        }

        /* Stock List */
        .stock-list {
            flex: 1;
            overflow-y: auto;
            background: var(--bg-default);
        }
        
        .discover-list-content {
            flex: 1;
            overflow-y: auto;
            background: var(--bg-default);
        }
        
        .three-column-header {
            display: flex;
            justify-content: space-between;
            padding: 8px 16px;
            background: #f5f5f5;
            font-size: 11px;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
        }
        
        .three-column-header span:first-child {
            flex: 1;
        }
        
        .three-column-header span:nth-child(2) {
            width: 80px;
            text-align: center;
        }
        
        .three-column-header span:last-child {
            width: 80px;
            text-align: right;
        }
        
        .stock-row.three-column {
            display: flex;
            align-items: center;
        }
        
        .stock-row.three-column .stock-left {
            flex: 1;
        }
        
        .stock-row.three-column .stock-middle {
            width: 80px;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
        }
        
        .stock-row.three-column .stock-middle.positive {
            color: var(--color-positive);
        }
        
        .stock-row.three-column .stock-middle.negative {
            color: var(--color-negative);
        }
        
        .stock-row.three-column .stock-right {
            width: 80px;
        }

        .stock-row {
            display: flex;
            align-items: center;
            height: var(--row-height);
            padding: 0 var(--padding-h);
            background: var(--bg-default);
            border-bottom: 1px solid var(--bg-ui-1);
            cursor: pointer;
        }

        .stock-row:active {
            background: var(--bg-ui-1);
        }

        .stock-left {
            flex: 1;
            min-width: 0;
        }

        .stock-symbol {
            font-size: 12px;
            font-weight: 600;
            line-height: 18px;
            color: var(--text-1);
            text-transform: uppercase;
        }

        .stock-meta {
            font-size: 12px;
            font-weight: 400;
            line-height: 16px;
            color: var(--text-2);
            display: flex;
            gap: 4px;
        }

        .stock-right {
            text-align: right;
            min-width: 80px;
        }

        .stock-price {
            font-size: 13px;
            font-weight: 600;
            line-height: 18px;
            font-feature-settings: 'tnum' on, 'lnum' on;
        }

        .stock-change {
            font-size: 11px;
            font-weight: 400;
            line-height: 14px;
            color: var(--text-1);
        }

        .positive { color: var(--positive); }
        .negative { color: var(--negative); }

        /* 3-Column Layout */
        .stock-row.three-col {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            padding: 8px var(--padding-h);
            gap: 4px;
        }

        .stock-row.three-col .stock-left {
            flex: 1;
            min-width: 0;
            overflow: hidden;
        }

        .stock-row.three-col .stock-symbol {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 600;
            font-size: 12px;
            line-height: 18px;
            color: var(--text-1);
            text-transform: uppercase;
        }

        .stock-row.three-col .stock-meta {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 400;
            font-size: 12px;
            line-height: 16px;
            color: #6A6A6A;
        }

        .stock-row.three-col .stock-middle {
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: flex-end;
            width: 100px;
        }

        .stock-row.three-col .stock-right {
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: flex-end;
            width: 100px;
        }

        .stock-middle-value {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 600;
            font-size: 11px;
            line-height: 14px;
            text-align: right;
        }

        .stock-middle-value.positive {
            color: #148564;
        }

        .stock-middle-value.negative {
            color: #DB542A;
        }

        .stock-middle-sub {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 400;
            font-size: 12px;
            line-height: 16px;
            text-align: right;
            color: #262626;
        }

        /* Column Header */
        .column-header {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 8px var(--padding-h) 4px;
            gap: 4px;
            background: #FFFFFF;
        }

        .column-header span {
            font-family: 'Messina Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 12px;
            font-weight: 400;
            line-height: 16px;
            color: #6A6A6A;
        }

        .column-header span:first-child {
            flex: 1;
            min-width: 120px;
        }

        .column-header span:not(:first-child) {
            width: 100px;
            text-align: right;
        }

        .column-header .col-middle {
            min-width: 60px;
        }

        .column-header .col-right {
            min-width: 60px;
        }

        /* Bottom Navigation */
        .bottom-nav {
            display: flex;
            height: 56px;
            background: var(--bg-default);
            border-top: 1px solid var(--bg-ui-4);
            flex-shrink: 0;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            cursor: pointer;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            fill: var(--text-2);
        }

        .nav-item.active svg {
            fill: var(--text-1);
        }

        .nav-label {
            font-size: 12px;
            font-weight: 400;
            color: var(--text-2);
        }

        .nav-item.active .nav-label {
            font-weight: 700;
            color: var(--text-1);
        }

        /* System Navigation */
        .system-nav {
            height: 48px;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 80px;
            flex-shrink: 0;
        }

        .system-nav-btn {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .system-nav-btn svg {
            fill: #fff;
        }

        /* Bottom Sheet */
        .bottom-sheet-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 100;
        }

        .bottom-sheet-overlay.active {
            display: block;
        }

        .bottom-sheet {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-default);
            border-radius: 16px 16px 0 0;
            padding: 16px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 101;
        }

        .bottom-sheet.active {
            transform: translateY(0);
        }

        .bottom-sheet-handle {
            width: 40px;
            height: 4px;
            background: var(--bg-ui-4);
            border-radius: 2px;
            margin: 0 auto 16px;
        }

        .bottom-sheet-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-1);
            margin-bottom: 16px;
        }

        .bottom-sheet-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 0;
            border-bottom: 1px solid var(--bg-ui-1);
            cursor: pointer;
        }

        .bottom-sheet-option:last-child {
            border-bottom: none;
        }

        .bottom-sheet-option:active {
            opacity: 0.7;
        }

        .bottom-sheet-option-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bottom-sheet-option-icon svg {
            width: 20px;
            height: 20px;
        }

        .bottom-sheet-option-icon.blue {
            background: rgba(90, 41, 139, 0.1);
        }

        .bottom-sheet-option-icon.blue svg {
            fill: var(--bg-primary);
        }

        .bottom-sheet-option-icon.purple {
            background: rgba(90, 41, 139, 0.1);
        }

        .bottom-sheet-option-icon.purple svg {
            fill: var(--bg-primary);
        }

        .bottom-sheet-option-icon.green {
            background: rgba(20, 133, 100, 0.1);
        }

        .bottom-sheet-option-icon.green svg {
            fill: var(--positive);
        }

        .bottom-sheet-option-text {
            flex: 1;
        }

        .bottom-sheet-option-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-1);
        }

        .bottom-sheet-option-desc {
            font-size: 12px;
            color: var(--text-2);
        }

        /* Screens */
        .screen {
            display: none;
            flex-direction: column;
            height: 100%;
        }

        .screen.active {
            display: flex;
        }

        /* Discover Screen */
        .discover-section-title {
            padding: 16px var(--padding-h) 8px;
            font-size: 12px;
            font-weight: 700;
            color: var(--text-1);
            background: var(--bg-default);
        }

        .discover-list-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px var(--padding-h);
            background: var(--bg-default);
            border-bottom: 1px solid var(--bg-ui-1);
            cursor: pointer;
        }

        .discover-list-item:active {
            background: var(--bg-ui-1);
        }

        .discover-list-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .discover-list-icon svg {
            width: 18px;
            height: 18px;
            fill: var(--text-2);
        }

        .discover-list-name {
            flex: 1;
            font-size: 14px;
            font-weight: 400;
            color: var(--text-1);
        }

        .discover-list-arrow {
            color: var(--text-2);
        }

        /* Search Bar */
        .search-bar {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px var(--padding-h);
            background: var(--bg-default);
        }

        .search-input {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 14px;
            background: var(--bg-ui-1);
            border-radius: 8px;
            border: 1px solid var(--bg-ui-3);
        }

        .search-input svg {
            width: 16px;
            height: 16px;
            fill: var(--text-2);
        }

        .search-input input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 14px;
            color: var(--text-1);
            outline: none;
        }

        .search-input input::placeholder {
            color: var(--text-alt);
        }

        /* Floating CTA */
        .floating-cta-container {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 8px 16px;
            gap: 8px;
            width: auto;
            height: 40px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(4px);
            border-radius: 48px;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
        }

        .floating-cta-edit {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 4px;
        }

        .floating-cta-edit svg {
            width: 20px;
            height: 20px;
            fill: var(--text-1);
        }

        .floating-cta-separator {
            width: 1px;
            height: 24px;
            background: #929292;
            opacity: 0.2;
        }

        .floating-cta-sort {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            flex: 1;
        }

        .floating-cta-sort svg {
            width: 20px;
            height: 20px;
            fill: var(--text-1);
        }

        .floating-cta-sort-text {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-1);
            line-height: 120%;
        }

        .floating-cta-sort .dropdown-arrow {
            width: 16px;
            height: 16px;
            opacity: 0.5;
        }

        /* Sort Bottom Sheet */
        .sort-sheet-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 200;
            display: none;
        }

        .sort-sheet {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-default);
            border-radius: 16px 16px 0 0;
            z-index: 201;
            display: none;
            flex-direction: column;
            max-height: 70%;
            overflow-y: auto;
        }

        .sort-sheet-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            border-bottom: 1px solid var(--bg-ui-3);
            position: sticky;
            top: 0;
            background: var(--bg-default);
        }

        .sort-sheet-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-1);
        }

        .sort-sheet-close {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background: var(--bg-ui-1);
            border-radius: 16px;
        }

        .sort-sheet-close svg {
            width: 16px;
            height: 16px;
            fill: var(--text-1);
        }

        .sort-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-alt);
            text-transform: uppercase;
            padding: 12px 16px 8px;
            letter-spacing: 0.5px;
        }

        .sort-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            cursor: pointer;
        }

        .sort-option:hover {
            background: var(--bg-ui-1);
        }

        .sort-option.active {
            background: rgba(90, 41, 139, 0.08);
        }

        .sort-option-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sort-option-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sort-option-icon svg {
            width: 20px;
            height: 20px;
            fill: var(--text-2);
        }

        .sort-option.active .sort-option-icon svg {
            fill: var(--bg-primary);
        }

        .sort-option-text {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-1);
        }

        .sort-option.active .sort-option-text {
            color: var(--bg-primary);
        }

        .sort-option-check {
            width: 20px;
            height: 20px;
            display: none;
        }

        .sort-option.active .sort-option-check {
            display: block;
        }

        .sort-option-check svg {
            width: 20px;
            height: 20px;
            fill: var(--bg-primary);
        }

        /* Create Watchlist Sheet */
        .create-watchlist-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 200;
        }

        .create-watchlist-sheet {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 375px;
            max-width: 100%;
            background: var(--bg-default);
            border-radius: 16px 16px 0 0;
            z-index: 201;
            display: none;
            flex-direction: column;
            padding: 16px;
            padding-bottom: 32px;
            box-sizing: border-box;
        }

        .create-watchlist-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-1);
            margin-bottom: 20px;
            text-align: center;
        }

        .create-watchlist-input-container {
            margin-bottom: 24px;
        }

        .create-watchlist-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-2);
            margin-bottom: 8px;
        }

        .create-watchlist-input {
            width: 100%;
            padding: 12px 16px;
            font-size: 16px;
            border: 1px solid #E1E1E1;
            border-radius: 8px;
            outline: none;
            box-sizing: border-box;
        }

        .create-watchlist-input:focus {
            border-color: var(--bg-primary);
        }

        .create-watchlist-input::placeholder {
            color: #999;
        }

        .create-watchlist-btn {
            width: 100%;
            padding: 14px;
            font-size: 16px;
            font-weight: 600;
            color: white;
            background: var(--bg-primary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .create-watchlist-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Hypothetical Trade Sheet Styles */
        .hypothetical-sheet {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translate(-50%, 100%);
            width: 375px;
            max-width: 100%;
            background: #FFFFFF;
            border-radius: 20px 20px 0 0;
            z-index: 201;
            display: flex;
            flex-direction: column;
            padding: 0;
            transition: transform 0.3s ease-out;
            box-shadow: 0 -4px 16px rgba(0,0,0,0.1);
        }

        .hypothetical-sheet.active {
            transform: translate(-50%, 0);
        }

        .hypothetical-header {
            padding: 20px 16px 12px;
            border-bottom: 1px solid #F2F2F2;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .hypothetical-title {
            font-size: 18px;
            font-weight: 700;
            color: #262626;
            margin-bottom: 4px;
        }

        .hypothetical-subtitle {
            font-size: 12px;
            color: #6A6A6A;
        }

        .hypothetical-content {
            padding: 16px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .stat-group {
            background: #FAFAFA;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #F2F2F2;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-size: 12px;
            color: #6A6A6A;
            font-weight: 500;
        }

        .stat-value {
            font-size: 13px;
            color: #262626;
            font-weight: 600;
            text-align: right;
        }

        .hypothetical-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 200;
            display: none;
        }

        .hypothetical-overlay.active {
            display: block;
        }

        /* User Watchlist Content */
        .user-watchlist-content {
            flex: 1;
            overflow-y: auto;
            background: var(--bg-default);
        }

        .empty-watchlist {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
        }

        .empty-watchlist-icon {
            margin-bottom: 16px;
        }

        .empty-watchlist-text {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-1);
            margin-bottom: 8px;
        }

        .empty-watchlist-hint {
            font-size: 14px;
            color: var(--text-2);
        }

        /* Edit Mode */
        .edit-mode-header {
            display: none;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            padding: 12px var(--padding-h);
            background: var(--bg-primary);
            color: var(--text-3);
            flex-shrink: 0;
        }

        .edit-mode-header.active {
            display: flex;
        }

        .edit-mode-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .edit-mode-header-left svg {
            width: 24px;
            height: 24px;
            fill: var(--text-3);
            cursor: pointer;
        }

        .edit-mode-header-title {
            font-size: 16px;
            font-weight: 600;
        }

        .edit-mode-header-actions {
            display: flex;
            gap: 8px;
        }

        .edit-mode-header-actions button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--text-3);
            font-size: 14px;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
        }

        .stock-row.edit-mode {
            display: flex;
            align-items: center;
            padding: 12px var(--padding-h);
            gap: 12px;
            border-bottom: 1px solid var(--bg-ui-3);
        }

        .stock-row.edit-mode .stock-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--text-alt);
            border-radius: 4px;
            cursor: pointer;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stock-row.edit-mode .stock-checkbox.selected {
            background: var(--bg-primary);
            border-color: var(--bg-primary);
        }

        .stock-row.edit-mode .stock-checkbox svg {
            width: 14px;
            height: 14px;
            fill: var(--text-3);
            display: none;
        }

        .stock-row.edit-mode .stock-checkbox.selected svg {
            display: block;
        }

        .stock-row.edit-mode .stock-left {
            flex: 1;
        }

        .stock-row.edit-mode .drag-handle {
            width: 24px;
            height: 24px;
            cursor: grab;
            flex-shrink: 0;
        }

        .stock-row.edit-mode .drag-handle svg {
            width: 24px;
            height: 24px;
            fill: var(--text-alt);
        }

        /* ========================================
           PORTFOLIO SCREEN STYLES (NEW)
           ======================================== */
        
        /* Header */
        .portfolio-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px var(--padding-h);
            background: var(--bg-default);
            height: 56px;
            flex-shrink: 0;
        }

        .portfolio-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: var(--bg-primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .user-avatar span {
            color: #fff;
            font-size: 14px;
            font-weight: 700;
        }
        
        .user-avatar-badge {
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            bottom: -2px;
            right: -2px;
        }

        .user-avatar-badge svg {
             width: 8px;
             height: 8px;
             fill: var(--bg-primary);
        }

        .portfolio-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-1);
        }

        .portfolio-header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .portfolio-icon-btn {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            cursor: pointer;
        }
        
        .portfolio-icon-btn svg {
            width: 24px;
            height: 24px;
            fill: var(--text-1);
        }

        .notification-dot {
            position: absolute;
            top: -4px;
            right: -6px;
            background: #D84315;
            color: #fff;
            font-size: 10px;
            font-weight: 700;
            padding: 1px 4px;
            border-radius: 10px;
            border: 1px solid #fff;
        }

        /* Tabs */
        .portfolio-tabs {
            display: flex;
            padding: 0 var(--padding-h);
            background: var(--bg-default);
            border-bottom: 1px solid var(--bg-ui-1);
            flex-shrink: 0;
        }

        .portfolio-tab {
            padding: 12px 16px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-2);
            cursor: pointer;
            position: relative;
            margin-right: 8px;
        }

        .portfolio-tab.active {
            color: var(--text-1);
        }
        
        .portfolio-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--bg-primary);
        }

        /* Sub Tabs */
        .portfolio-sub-tabs {
            display: flex;
            gap: 8px;
            padding: 12px var(--padding-h);
            background: var(--bg-default);
            flex-shrink: 0;
        }

        .portfolio-sub-tab {
            padding: 6px 16px;
            border-radius: 6px;
            border: 1px solid var(--bg-ui-3);
            font-size: 13px;
            font-weight: 600;
            color: var(--text-1);
            background: var(--bg-default);
            cursor: pointer;
        }

        .portfolio-sub-tab.active {
            border-color: var(--bg-primary);
            color: var(--bg-primary);
            background: rgba(90, 41, 139, 0.05);
        }

        /* Trading Insights Row */
        .trading-insights-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px var(--padding-h);
            background: var(--bg-default);
            flex-shrink: 0;
            cursor: pointer;
        }
        
        .trading-insights-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-1);
        }
        
        .trading-insights-arrow svg {
            width: 16px;
            height: 16px;
            fill: var(--text-1);
        }

        /* Order History Styles */
        .order-history-container {
            display: flex;
            flex-direction: column;
            background: var(--bg-default);
            flex: 1;
            overflow-y: auto;
        }

        .order-history-header {
            display: flex;
            justify-content: space-between;
            padding: 8px 16px;
            border-bottom: 1px solid #F5F5F5;
            background: var(--bg-default);
        }

        .order-history-header span {
            font-size: 12px;
            color: #6A6A6A;
            font-weight: 400;
        }

        .order-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #F5F5F5;
        }

        .order-info-left {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .order-scrip {
            font-size: 14px;
            font-weight: 400;
            color: #262626;
        }

        .order-meta {
            font-size: 12px;
            color: #6A6A6A;
        }

        .order-pnl {
            font-size: 14px;
            text-align: right;
            color: #262626;
            font-weight: 400;
        }

        .order-pnl.negative {
            color: #DB542A;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 12px 16px;
            gap: 10px;
            border-top: 1px solid #F5F5F5;
            background: var(--bg-default);
        }

        .page-num {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #262626;
            cursor: pointer;
        }

        .page-num.active {
            background: #F7F4F9;
            border-radius: 50%;
            color: #7A26CE;
            font-weight: 700;
        }

        /* Trade Details Styles */
        .trade-details-content {
            background: #FFFFFF;
            flex: 1;
            overflow-y: auto;
        }

        .trade-stats-title {
            padding: 16px;
            font-size: 14px;
            font-weight: 700;
            color: #6A6A6A;
            background: #FFFFFF;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: #FFFFFF;
        }

        .stat-label {
            font-size: 14px;
            color: #262626;
            font-weight: 400;
        }

        .stat-value {
            font-size: 14px;
            color: #262626;
            text-align: right;
            font-weight: 400;
        }

        /* Scenario Card Styles */
        .scenario-card {
            background: #FFFFFF;
            border: 1px solid #E1E1E1;
            border-radius: 12px;
            margin: 12px 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .scenario-card-header {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
        }

        .scenario-icon-box {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scenario-info {
            flex: 1;
        }

        .scenario-title {
            font-size: 14px;
            font-weight: 700;
            color: #262626;
        }

        .scenario-subtitle {
            font-size: 12px;
            color: #6A6A6A;
            margin-top: 2px;
        }

        .scenario-value-group {
            text-align: right;
            margin-right: 8px;
        }

        .scenario-meta {
            font-size: 10px;
            color: #6A6A6A;
            margin-bottom: 2px;
        }

        .scenario-pnl {
            font-size: 14px;
            font-weight: 700;
        }

        .scenario-card .chevron {
            transition: transform 0.3s ease;
            fill: #6A6A6A;
        }

        .scenario-details {
            display: none;
            padding: 0 16px 16px;
            background: #FFFFFF;
        }

        .scenario-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: #F9F9F9;
            border: 1px solid #E1E1E1;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .option-label {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
            margin-left: 8px;
            text-transform: uppercase;
        }

        .insight-box {
            background: #E6F0FF;
            padding: 12px;
            border-radius: 8px;
            display: flex;
            gap: 8px;
            margin-top: 8px;
            border: 1px solid #CCE0FF;
        }

        .insight-icon {
            width: 16px;
            height: 16px;
            fill: #0063F5;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .insight-text {
            font-size: 12px;
            color: #262626;
            line-height: 16px;
        }

        /* Empty State */
        .portfolio-empty-state {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--bg-default);
            padding: 40px;
            min-height: 200px;
        }

        .empty-icon {
            width: 48px;
            height: 48px;
            margin-bottom: 16px;
        }
        
        .empty-icon svg {
            width: 48px;
            height: 48px;
            fill: var(--bg-primary);
            opacity: 0.8;
        }
        
        .empty-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-1);
            margin-bottom: 8px;
        }
        
        .empty-subtitle {
            font-size: 13px;
            color: var(--text-alt);
            text-align: center;
        }

        /* Advisory Section */
        .advisory-section {
            background: linear-gradient(180deg, #F8F9FA 0%, #F0F4FF 100%);
            padding: 16px 0 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            border-top: 1px solid var(--bg-ui-1);
        }

        .advisory-header {
            padding: 0 var(--padding-h);
        }

        .orders-badge {
            display: inline-block;
            background: #E3F2FD;
            color: #1976D2;
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .advisory-title-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .advisory-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-1);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .advisory-title span {
            font-weight: 400;
            font-size: 14px;
            color: var(--text-2);
        }

        /* Advisory Pills */
        .advisory-pills {
            display: flex;
            gap: 8px;
            padding: 0 var(--padding-h);
            overflow-x: auto;
            scrollbar-width: none;
        }
        
        .advisory-pills::-webkit-scrollbar {
            display: none;
        }
        
        .advisory-pill {
            padding: 6px 12px;
            background: #fff;
            border: 1px solid var(--bg-ui-3);
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-1);
            white-space: nowrap;
            cursor: pointer;
        }
        
        .advisory-pill.active {
            border-color: var(--bg-primary);
            color: var(--bg-primary);
            background: #fff;
        }

        /* Advisory Cards */
        .advisory-cards {
            display: flex;
            gap: 12px;
            padding: 0 var(--padding-h);
            overflow-x: auto;
            scrollbar-width: none;
            padding-bottom: 4px;
        }
        
        .advisory-cards::-webkit-scrollbar {
            display: none;
        }
        
        .advisory-card {
            min-width: 280px;
            background: #fff;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 12px;
            cursor: pointer;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            color: var(--text-alt);
        }

        .card-header-left {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .card-stock-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .card-stock-name {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-1);
        }
        
        .card-stock-desc {
            font-size: 11px;
            color: var(--text-2);
            margin-top: 2px;
        }
        
        .card-stock-price {
            font-size: 14px;
            font-weight: 600;
            color: var(--positive);
            text-align: right;
        }
        
        .card-stock-change {
            font-size: 10px;
            color: var(--positive);
            text-align: right;
        }
        
        .card-metrics {
            display: flex;
            justify-content: space-between;
            padding-top: 8px;
            border-top: 1px solid var(--bg-ui-1);
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .metric-label {
            font-size: 10px;
            color: var(--text-alt);
        }
        
        .metric-value {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-1);
        }
        
        .card-action {
            margin-top: 4px;
            height: 8px;
            background: var(--positive);
            border-radius: 4px 4px 0 0;
            opacity: 0.2;
            margin-bottom: -16px;
            margin-left: -16px;
            margin-right: -16px;
        }

        .alpha-market {
             display: flex;
             align-items: center;
             gap: 2px;
        }
        .alpha-market svg {
            width: 12px;
            height: 12px;
            fill: var(--text-2);
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <!-- Screen 1: Main Watchlist -->
        <div class="screen" id="screen-main">
            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-left">
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <!-- Main Header -->
            <div class="main-header">
                <div class="main-header-lhs">
                    <div class="up-logo">
                        <img src="https://cdn-1.webcatalog.io/catalog/upstox-pro/upstox-pro-icon.png?v=1763944775905" alt="Upstox">
                    </div>
                    <div class="search-pill">
                        <span class="search-pill-text">Search for</span>
                        <span class="search-pill-keyword">Stocks</span>
                    </div>
                </div>
                <div class="main-header-rhs">
                    <div class="header-icon-btn icon-360">
                        <svg viewBox="0 0 20 12" fill="none" stroke="#262626" stroke-width="1.5">
                            <path d="M2 8 L6 4 L10 7 L18 2"/>
                            <polygon points="16,1 19,2 17,4" fill="#262626" stroke="none"/>
                        </svg>
                        <span class="icon-360-text">360</span>
                    </div>
                    <div class="header-icon-btn">
                        <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                        <div class="notification-badge">
                            <span>9+</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Mode Header -->
            <div class="edit-mode-header" id="edit-mode-header">
                <div class="edit-mode-header-left">
                    <svg viewBox="0 0 24 24" onclick="hideEditMode()"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                    <span class="edit-mode-header-title">Edit list</span>
                </div>
                <div class="edit-mode-header-actions">
                    <button onclick="deleteSelectedStocks()">Delete</button>
                    <button onclick="saveEditChanges()">Save</button>
                </div>
            </div>

            <!-- Market Ticker -->
            <div class="ticker">
                <div class="ticker-item">
                    <div class="ticker-left">
                        <span class="ticker-symbol">NIFTY50</span>
                    </div>
                    <div class="ticker-right">
                        <div class="ticker-price negative">24,250.45</div>
                        <div class="ticker-change negative">-125.30 (0.51%)</div>
                    </div>
                </div>
                <div class="ticker-divider">
                    <div class="ticker-divider-line"></div>
                </div>
                <div class="ticker-item">
                    <div class="ticker-left">
                        <span class="ticker-symbol">NIFTY<br>BANK</span>
                    </div>
                    <div class="ticker-right">
                        <div class="ticker-price positive">51,850.75</div>
                        <div class="ticker-change positive">+320.50 (0.62%)</div>
                    </div>
                </div>
            </div>

            <!-- Watchlist Tabs -->
            <div class="watchlist-tabs-container">
                <div class="watchlist-tabs" id="tabs">
                    <div class="watchlist-tab active" data-tab="my-first" data-type="user" onclick="selectWatchlistTab('my-first')">My First List</div>
                    <div class="tab-actions">
                        <div class="tab-action-btn" onclick="showAddSheet()">
                            <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        </div>
                        <div class="tab-action-btn">
                            <svg viewBox="0 0 24 24"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- List Description -->

            <!-- Stock List -->
            <div class="stock-list" id="stock-list">
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">Reliance</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,950.45</div>
                        <div class="stock-change positive">+1.25%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">HDFC Bank</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">1,678.30</div>
                        <div class="stock-change negative">-0.45%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">Infosys</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,850.15</div>
                        <div class="stock-change positive">+2.10%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">TCS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">4,125.80</div>
                        <div class="stock-change positive">+0.85%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">ITC</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">478.25</div>
                        <div class="stock-change negative">-1.15%</div>
                    </div>
                </div>
            </div>

            <!-- Floating Edit/Sort CTA -->
            <div class="floating-cta-container" id="floating-cta">
                <div class="floating-cta-edit" onclick="showEditMode()">
                    <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                </div>
                <div class="floating-cta-separator"></div>
                <div class="floating-cta-sort" onclick="showSortSheet()">
                    <svg viewBox="0 0 24 24"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></svg>
                    <span class="floating-cta-sort-text" id="current-sort-text">Volume</span>
                    <svg class="dropdown-arrow" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                    <span class="nav-label">Home</span>
                </div>
                <div class="nav-item active">
                    <svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                    <span class="nav-label">My lists</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <span class="nav-label">Orders</span>
                </div>
                <div class="nav-item" onclick="showScreen('screen-portfolio')">
                    <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg>
                    <span class="nav-label">Portfolio</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                    <span class="nav-label">Funds</span>
                </div>
            </div>

            <!-- System Navigation -->
            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen 2: Discover Lists -->
        <div class="screen" id="screen-discover">
            <div class="status-bar light">
                <div class="status-left">
                    <div class="camera-notch"></div>
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-main')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Discover Lists</span>
            </div>

            <!-- Category Pills -->
            <div class="filter-chips" id="discover-pills-1">
                <div class="filter-chip" data-category="options" onclick="filterDiscoverCategory1(this, 'options')">Options</div>
                <div class="filter-chip" data-category="technical" onclick="filterDiscoverCategory1(this, 'technical')">Technical</div>
                <div class="filter-chip" data-category="fundamentals" onclick="filterDiscoverCategory1(this, 'fundamentals')">Fundamentals</div>
                <div class="filter-chip" data-category="intraday" onclick="filterDiscoverCategory1(this, 'intraday')">Intraday</div>
                <div class="filter-chip" data-category="investments" onclick="filterDiscoverCategory1(this, 'investments')">Investments</div>
            </div>

            <div class="stock-list" id="discover-list-1">
                <div class="discover-section" data-category="options">
                    <div class="discover-section-title">Options list</div>
                    <div class="discover-list-item" onclick="showScreen('screen-highest-iv')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg>
                        </div>
                        <span class="discover-list-name">Highest IV</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-options-volume')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M4 9h4v11H4zm6-5h4v16h-4zm6 8h4v8h-4z"/></svg>
                        </div>
                        <span class="discover-list-name">Highest Options Volume</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-highest-oi')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
                        </div>
                        <span class="discover-list-name">Highest OI</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-oi-change')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg>
                        </div>
                        <span class="discover-list-name">Highest OI Change</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                </div>

                <div class="discover-section" data-category="technical">
                    <div class="discover-section-title">Technicals</div>
                    <div class="discover-list-item" onclick="showScreen('screen-gap-up')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/><path d="M7 10l5-5 5 5z" opacity="0.5"/></svg>
                        </div>
                        <span class="discover-list-name">Gap-up</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-gap-down')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/><path d="M7 14l5 5 5-5z" opacity="0.5"/></svg>
                        </div>
                        <span class="discover-list-name">Gap-down</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-52w-high')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></svg>
                        </div>
                        <span class="discover-list-name">New 52W High</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-52w-low')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M12 22l7.5-18.29-.71-.71L12 6 5.21 3 4.5 3.71z"/></svg>
                        </div>
                        <span class="discover-list-name">New 52W Low</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-macd')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z"/></svg>
                        </div>
                        <span class="discover-list-name">MACD Bullish Cross</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                </div>

                <div class="discover-section" data-category="fundamentals">
                    <div class="discover-section-title">Fundamentals</div>
                    <div class="discover-list-item" onclick="showScreen('screen-dividend')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg>
                        </div>
                        <span class="discover-list-name">Highest Dividend Yield</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-ipo')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55l1.33.26zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83L11.17 17zM17.65 14.81l-4.05 4.05 1.55-3.62c.31-.13 3.6-1.53 5.89-3.57l.26 1.33c.13.66-.08 1.34-.55 1.81zM8.94 15.06c-.39-.39-1.02-.39-1.41 0l-2.12 2.12 2.12 2.12c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-.71-.71.71-.71c.39-.39.39-1.02 0-1.41zM14 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2z"/></svg>
                        </div>
                        <span class="discover-list-name">IPO Access</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-roce')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l4.59-4.58L18 11l-6 6z"/></svg>
                        </div>
                        <span class="discover-list-name">Top ROCE</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                    <div class="discover-list-item" onclick="showScreen('screen-low-pe')">
                        <div class="discover-list-icon">
                            <svg viewBox="0 0 24 24"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/></svg>
                        </div>
                        <span class="discover-list-name">Low PE Stocks</span>
                        <span class="discover-list-arrow"></span>
                    </div>
                </div>
            </div>

            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen 3: Highest IV Detail -->
        <div class="screen" id="screen-highest-iv">
            <div class="status-bar light">
                <div class="status-left">
                    <div class="camera-notch"></div>
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Highest IV</span>
            </div>

            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Nifty</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Sensex</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Bank Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Stocks</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Call</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Call</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Put</div>
                    </div>
                </div>
            </div>

            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">IV</span>
                <span class="col-right">LTP</span>
            </div>

            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 25000 CE</div>
                        <div class="stock-meta"><span>31 Dec 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value">45.2%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">1.49</div>
                        <div class="stock-change positive">+12.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24800 CE</div>
                        <div class="stock-meta"><span>31 Dec 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value">42.8%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">3.25</div>
                        <div class="stock-change positive">+8.3%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24600 CE</div>
                        <div class="stock-meta"><span>31 Dec 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value">38.5%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">8.40</div>
                        <div class="stock-change negative">-5.2%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24500 CE</div>
                        <div class="stock-meta"><span>31 Dec 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value">35.2%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">15.80</div>
                        <div class="stock-change positive">+3.8%</div>
                    </div>
                </div>
            </div>

            <button class="bottom-cta-button" onclick="toggleFollow(this, 'highest-iv')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>

            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen 4: Dividend Stocks -->
        <div class="screen" id="screen-dividend">
            <div class="status-bar light">
                <div class="status-left">
                    <div class="camera-notch"></div>
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Dividend Stocks</span>
            </div>

            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>

            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">Div. Yield</span>
                <span class="col-right">LTP</span>
            </div>

            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ITC</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">4.2%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">478.25</div>
                        <div class="stock-change negative">-1.15%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Coal India</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">6.8%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">485.60</div>
                        <div class="stock-change positive">+2.35%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Power Grid</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">5.1%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">318.40</div>
                        <div class="stock-change positive">+1.85%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ONGC</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">4.5%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">272.80</div>
                        <div class="stock-change negative">-0.65%</div>
                    </div>
                </div>
            </div>

            <button class="bottom-cta-button" onclick="toggleFollow(this, 'dividend')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>

            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen 5: MACD Bullish -->
        <div class="screen" id="screen-macd">
            <div class="status-bar light">
                <div class="status-left">
                    <div class="camera-notch"></div>
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">MACD Bullish</span>
            </div>

            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>

            <div class="stock-list">
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">HDFC Bank</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,678.30</div>
                        <div class="stock-change positive">+2.45%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">Infosys</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,850.15</div>
                        <div class="stock-change positive">+1.85%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">TCS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">4,125.80</div>
                        <div class="stock-change positive">+1.20%</div>
                    </div>
                </div>
                <div class="stock-row">
                    <div class="stock-left">
                        <div class="stock-symbol">Reliance</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,950.45</div>
                        <div class="stock-change positive">+0.95%</div>
                    </div>
                </div>
            </div>

            <button class="bottom-cta-button" onclick="toggleFollow(this, 'macd')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>

            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen 6: IPO Access (from tab) -->
        <div class="screen" id="screen-ipo">
            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-left">
                    <span class="status-time">9:41</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <!-- Main Header -->
            <div class="main-header">
                <div class="main-header-lhs">
                    <div class="up-logo">
                        <img src="https://cdn-1.webcatalog.io/catalog/upstox-pro/upstox-pro-icon.png?v=1763944775905" alt="Upstox">
                    </div>
                    <div class="search-pill">
                        <span class="search-pill-text">Search for</span>
                        <span class="search-pill-keyword">Stocks</span>
                    </div>
                </div>
                <div class="main-header-rhs">
                    <div class="header-icon-btn icon-360">
                        <svg viewBox="0 0 20 12" fill="none" stroke="#262626" stroke-width="1.5">
                            <path d="M2 8 L6 4 L10 7 L18 2"/>
                            <polygon points="16,1 19,2 17,4" fill="#262626" stroke="none"/>
                        </svg>
                        <span class="icon-360-text">360</span>
                    </div>
                    <div class="header-icon-btn">
                        <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                        <div class="notification-badge">
                            <span>9+</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ticker">
                <div class="ticker-item">
                    <div class="ticker-left">
                        <span class="ticker-symbol">NIFTY50</span>
                    </div>
                    <div class="ticker-right">
                        <div class="ticker-price negative">24,250.45</div>
                        <div class="ticker-change negative">-125.30 (0.51%)</div>
                    </div>
                </div>
                <div class="ticker-divider">
                    <div class="ticker-divider-line"></div>
                </div>
                <div class="ticker-item">
                    <div class="ticker-left">
                        <span class="ticker-symbol">NIFTY<br>BANK</span>
                    </div>
                    <div class="ticker-right">
                        <div class="ticker-price positive">51,850.75</div>
                        <div class="ticker-change positive">+320.50 (0.62%)</div>
                    </div>
                </div>
            </div>

            <div class="watchlist-tabs-container">
                <div class="watchlist-tabs">
                    <div class="watchlist-tab" data-tab="my-first" onclick="showScreen('screen-main')">My First List</div>
                    <div class="watchlist-tab active" data-tab="ipo-access" data-type="preset">IPO Access</div>
                    <div class="tab-actions">
                        <div class="tab-action-btn" onclick="showAddSheet()">
                            <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        </div>
                        <div class="tab-action-btn">
                            <svg viewBox="0 0 24 24"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></svg>
                        </div>
                    </div>
                </div>
            </div>


            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">Listing Gains</span>
                <span class="col-right">LTP</span>
            </div>

            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Groww</div>
                        <div class="stock-meta"><span>Listed Dec 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">+7.5%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,285.60</div>
                        <div class="stock-change positive">+3.25%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Swiggy</div>
                        <div class="stock-meta"><span>Listed Nov 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">+25.2%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">542.80</div>
                        <div class="stock-change negative">-1.45%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Meesho</div>
                        <div class="stock-meta"><span>Listed Oct 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value positive">+9.8%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price positive">385.40</div>
                        <div class="stock-change positive">+2.10%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Ola Electric</div>
                        <div class="stock-meta"><span>Listed Sep 2025</span></div>
                    </div>
                    <div class="stock-middle">
                        <div class="stock-middle-value negative">-12.5%</div>
                    </div>
                    <div class="stock-right">
                        <div class="stock-price negative">72.30</div>
                        <div class="stock-change negative">-4.85%</div>
                    </div>
                </div>
            </div>

            <div class="bottom-nav">
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                    <span class="nav-label">Home</span>
                </div>
                <div class="nav-item active">
                    <svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                    <span class="nav-label">My lists</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <span class="nav-label">Orders</span>
                </div>
                <div class="nav-item" onclick="showScreen('screen-portfolio')">
                    <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg>
                    <span class="nav-label">Portfolio</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                    <span class="nav-label">Funds</span>
                </div>
            </div>

            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen: Highest Options Volume -->
        <div class="screen" id="screen-options-volume">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Highest Options Volume</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Nifty</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Sensex</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Bank Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Stocks</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Call</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Call</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Put</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">Volume</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24200 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">12.5L</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">145.80</div>
                        <div class="stock-change positive">+18.2%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24300 PE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">9.8L</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">89.50</div>
                        <div class="stock-change negative">-12.4%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">BankNifty 51500 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">8.2L</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">285.25</div>
                        <div class="stock-change positive">+22.1%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24100 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">7.5L</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">198.40</div>
                        <div class="stock-change positive">+15.8%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'options-volume')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: Highest OI -->
        <div class="screen" id="screen-highest-oi">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Highest OI</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Nifty</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Sensex</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Bank Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Stocks</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Call</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Call</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Put</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">OI</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24500 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">1.85 Cr</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">52.30</div>
                        <div class="stock-change positive">+8.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24000 PE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">1.62 Cr</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">38.75</div>
                        <div class="stock-change negative">-5.2%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">BankNifty 52000 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">98.5L</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">125.60</div>
                        <div class="stock-change positive">+12.3%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24200 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">85.2L</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">145.80</div>
                        <div class="stock-change positive">+18.2%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'highest-oi')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: OI Change -->
        <div class="screen" id="screen-oi-change">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Highest OI Change</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Nifty</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Sensex</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Bank Nifty</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Stocks</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Call</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Call</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Put</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">OI Chg%</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24400 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+45.8%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">78.25</div>
                        <div class="stock-change positive">+22.4%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">BankNifty 51800 PE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+38.2%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">165.40</div>
                        <div class="stock-change negative">-8.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Nifty 24300 CE</div>
                        <div class="stock-meta"><span>2 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+32.5%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">112.80</div>
                        <div class="stock-change positive">+15.6%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">Reliance 1300 CE</div>
                        <div class="stock-meta"><span>30 Jan 2025</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+28.9%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">42.50</div>
                        <div class="stock-change positive">+18.2%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'oi-change')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: Gap-up -->
        <div class="screen" id="screen-gap-up">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Gap-up Stocks</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">Gap %</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">TATA MOTORS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+4.8%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">785.60</div>
                        <div class="stock-change positive">+5.2%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">BAJAJ FINANCE</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+3.5%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">7,245.80</div>
                        <div class="stock-change positive">+4.1%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ADANI PORTS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+2.8%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,285.40</div>
                        <div class="stock-change positive">+3.2%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">WIPRO</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value positive">+2.1%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">485.25</div>
                        <div class="stock-change positive">+2.8%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'gap-up')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: Gap-down -->
        <div class="screen" id="screen-gap-down">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Gap-down Stocks</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">Gap %</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ZOMATO</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value negative">-3.2%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">245.30</div>
                        <div class="stock-change negative">-4.1%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">PAYTM</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value negative">-2.8%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">785.60</div>
                        <div class="stock-change negative">-3.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">INDIGO</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value negative">-2.1%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">4,125.80</div>
                        <div class="stock-change negative">-2.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">JINDAL STEEL</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value negative">-1.5%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">892.45</div>
                        <div class="stock-change negative">-2.2%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'gap-down')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: 52W High -->
        <div class="screen" id="screen-52w-high">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">New 52W High</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">52W High</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">RELIANCE</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">2,985.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,978.45</div>
                        <div class="stock-change positive">+2.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">HDFC BANK</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">1,725.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,718.30</div>
                        <div class="stock-change positive">+1.9%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">TCS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">4,280.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">4,265.80</div>
                        <div class="stock-change positive">+1.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">BHARTI AIRTEL</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">1,685.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">1,678.25</div>
                        <div class="stock-change positive">+2.1%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, '52w-high')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: 52W Low -->
        <div class="screen" id="screen-52w-low">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">New 52W Low</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">52W Low</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">VEDANTA</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">385.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">392.25</div>
                        <div class="stock-change negative">-3.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">TATA STEEL</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">125.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">128.45</div>
                        <div class="stock-change negative">-2.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">HINDALCO</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">485.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">492.30</div>
                        <div class="stock-change negative">-1.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">JSW STEEL</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">825.00</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">835.60</div>
                        <div class="stock-change negative">-2.1%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, '52w-low')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: Top ROCE -->
        <div class="screen" id="screen-roce">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Top ROCE</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">ROCE</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">PIDILITE</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">42.5%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,845.30</div>
                        <div class="stock-change positive">+1.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ASIAN PAINTS</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">38.2%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,425.60</div>
                        <div class="stock-change positive">+0.9%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">NESTL</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">35.8%</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">22,150.45</div>
                        <div class="stock-change negative">-0.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">COLGATE</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">32.1%</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">2,680.25</div>
                        <div class="stock-change positive">+1.2%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'roce')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Screen: Low PE -->
        <div class="screen" id="screen-low-pe">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-discover')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Low PE Stocks</span>
            </div>
            <div class="filter-dropdowns">
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Large</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Large</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Mid</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Small</div>
                    </div>
                </div>
                <div class="filter-separator"></div>
                <div class="filter-dropdown" onclick="toggleDropdown(this)">
                    <span class="filter-dropdown-label">Auto</span>
                    <div class="filter-dropdown-icon">
                        <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-option selected" onclick="selectOption(event, this)">Auto</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Pharma</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">IT</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Media</div>
                        <div class="dropdown-option" onclick="selectOption(event, this)">Banking</div>
                    </div>
                </div>
            </div>
            <div class="column-header">
                <span>Scrip</span>
                <span class="col-middle">PE Ratio</span>
                <span class="col-right">LTP</span>
            </div>
            <div class="stock-list">
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">COAL INDIA</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">6.8</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">485.30</div>
                        <div class="stock-change positive">+2.1%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">ONGC</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">7.2</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">285.45</div>
                        <div class="stock-change positive">+1.5%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">POWER GRID</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">8.5</div></div>
                    <div class="stock-right">
                        <div class="stock-price negative">325.60</div>
                        <div class="stock-change negative">-0.8%</div>
                    </div>
                </div>
                <div class="stock-row three-col">
                    <div class="stock-left">
                        <div class="stock-symbol">NTPC</div>
                        <div class="stock-meta"><span>NSE</span></div>
                    </div>
                    <div class="stock-middle"><div class="stock-middle-value">9.1</div></div>
                    <div class="stock-right">
                        <div class="stock-price positive">385.25</div>
                        <div class="stock-change positive">+0.9%</div>
                    </div>
                </div>
            </div>
            <button class="bottom-cta-button" onclick="toggleFollow(this, 'low-pe')">
                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                Follow
            </button>
            <div class="system-nav"><div class="system-nav-btn"><svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg></div><div class="system-nav-btn"><svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg></div></div>
        </div>

        <!-- Bottom Sheet -->
        <div class="bottom-sheet-overlay" id="sheet-overlay" onclick="hideAddSheet()"></div>
        <div class="bottom-sheet" id="add-sheet">
            <div class="bottom-sheet-handle"></div>
            <div class="bottom-sheet-title">Create a new list</div>
            
            <div class="bottom-sheet-option" onclick="hideAddSheet(); showCreateWatchlistSheet()">
                <div class="bottom-sheet-option-icon blue">
                    <svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                </div>
                <div class="bottom-sheet-option-text">
                    <div class="bottom-sheet-option-title">Create New Watchlist</div>
                </div>
            </div>

            <div class="bottom-sheet-option" onclick="hideAddSheet(); showScreen('screen-discover')">
                <div class="bottom-sheet-option-icon purple">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                <div class="bottom-sheet-option-text">
                    <div class="bottom-sheet-option-title">Discover Lists to Follow</div>
                </div>
            </div>

            <div class="bottom-sheet-option" onclick="hideAddSheet()">
                <div class="bottom-sheet-option-icon green">
                    <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
                </div>
                <div class="bottom-sheet-option-text">
                    <div class="bottom-sheet-option-title">Create screeners</div>
                </div>
            </div>
        </div>

        <!-- Sort Bottom Sheet -->
        <div class="sort-sheet-overlay" id="sort-sheet-overlay" onclick="hideSortSheet()"></div>
        <div class="sort-sheet" id="sort-sheet">
            <div class="sort-sheet-header">
                <span class="sort-sheet-title">Sort by</span>
                <div class="sort-sheet-close" onclick="hideSortSheet()">
                    <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                </div>
            </div>
            <div class="sort-section-title">Popular</div>
            <div class="sort-option active" onclick="selectSort('volume', 'Volume')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg></div>
                    <span class="sort-option-text">Volume</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('ltp-change', '% Change')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg></div>
                    <span class="sort-option-text">% Change</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('price', 'Price')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg></div>
                    <span class="sort-option-text">Price</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('alphabetical', 'A  Z')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M12.93 2h-2l-4.5 11h2l1-2.5h5l1 2.5h2l-4.5-11zm-2.68 6.5l1.68-4.2 1.68 4.2h-3.36zM21 18l-4-4v3H3v2h14v3l4-4z"/></svg></div>
                    <span class="sort-option-text">A  Z</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-section-title">Fundamentals</div>
            <div class="sort-option" onclick="selectSort('market-cap', 'Market Cap')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg></div>
                    <span class="sort-option-text">Market Cap</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('date', 'Recently Added')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
                    <span class="sort-option-text">Recently Added</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('custom', 'My Order')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"/></svg></div>
                    <span class="sort-option-text">My Order</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-section-title">Derivatives</div>
            <div class="sort-option" onclick="selectSort('oi', 'Open Interest')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg></div>
                    <span class="sort-option-text">Open Interest</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('oi-change', 'OI Change')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"/></svg></div>
                    <span class="sort-option-text">OI Change</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
            <div class="sort-option" onclick="selectSort('iv', 'Implied Volatility')">
                <div class="sort-option-left">
                    <div class="sort-option-icon"><svg viewBox="0 0 24 24"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg></div>
                    <span class="sort-option-text">Implied Volatility</span>
                </div>
                <div class="sort-option-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></div>
            </div>
        </div>

        <!-- ========================================
             PORTFOLIO SCREEN
             ======================================== -->
        <div class="screen active" id="screen-portfolio">
            <!-- Status Bar -->
            <div class="status-bar" style="background: var(--bg-default);">
                <div class="status-left">
                    <span class="status-time">1:01</span>
                </div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>

            <!-- Portfolio Header -->
            <div class="portfolio-header">
                <div class="portfolio-header-left">
                    <div class="user-avatar">
                        <span>up</span>
                        <div class="user-avatar-badge">
                            <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                        </div>
                    </div>
                    <span class="portfolio-title">Portfolio</span>
                </div>
                <div class="portfolio-header-right">
                    <div class="portfolio-icon-btn">
                        <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/></svg>
                        <span class="notification-dot">9+</span>
                    </div>
                    <div class="portfolio-icon-btn">
                        <svg viewBox="0 0 24 24"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></svg>
                    </div>
                    <div class="portfolio-icon-btn">
                        <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                    </div>
                </div>
            </div>

            <!-- Portfolio Tabs -->
            <div class="portfolio-tabs">
                <div class="portfolio-tab active">Positions</div>
                <div class="portfolio-tab">Holdings (2)</div>
            </div>

            <!-- Portfolio Sub Tabs -->
            <div class="portfolio-sub-tabs">
                <div class="portfolio-sub-tab active">Regular</div>
                <div class="portfolio-sub-tab">MTF</div>
                <div class="portfolio-sub-tab">Strategy</div>
            </div>

            <!-- Trading Insights Row -->
            <div class="trading-insights-row" onclick="showScreen('screen-trading-insights')">
                <span class="trading-insights-label">Trading Insights</span>
                <div class="trading-insights-arrow">
                    <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
                </div>
            </div>

            <!-- Empty State -->
            <div class="portfolio-empty-state">
                <div class="empty-icon">
                    <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                </div>
                <div class="empty-title">No positions yet</div>
                <div class="empty-subtitle">You'll find your regular positions here</div>
            </div>

            <!-- Advisory Section -->
            <div class="advisory-section">
                <div class="advisory-header">
                    <div class="orders-badge">250k+ orders placed</div>
                    <div class="advisory-title-row">
                        <div class="advisory-title">
                            advisory <span>by SEBI experts</span>
                            <svg viewBox="0 0 24 24" style="width: 14px; height: 14px; fill: var(--text-2);"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/></svg>
                        </div>
                        <div class="trading-insights-arrow">
                            <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
                        </div>
                    </div>
                </div>

                <div class="advisory-pills">
                    <div class="advisory-pill">F&O (6)</div>
                    <div class="advisory-pill">Intraday (3)</div>
                    <div class="advisory-pill active">Equity (26)</div>
                    <div class="advisory-pill">Commodity (2)</div>
                </div>

                <div class="advisory-cards">
                    <!-- Card 1 -->
                    <div class="advisory-card">
                        <div class="card-header">
                            <div class="card-header-left">
                                <span>Created on: 30 DEC, 12:06 PM</span>
                            </div>
                            <div class="alpha-market">
                                 <span>AlphaMarket</span>
                                 <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                            </div>
                        </div>
                        <div class="card-stock-info">
                            <div>
                                <div class="card-stock-name">SILVERBEES</div>
                                <div class="card-stock-desc">Nippon AMC - NETF Silver</div>
                            </div>
                            <div>
                                <div class="card-stock-price">218.50</div>
                                <div class="card-stock-change">+0.25 (0.11%)</div>
                            </div>
                        </div>
                        <div class="card-metrics">
                            <div class="metric-item">
                                <span class="metric-label">Stop-loss</span>
                                <span class="metric-value">200.00</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Entry price</span>
                                <span class="metric-value">218.00</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label" style="text-align: right;">Target</span>
                                <span class="metric-value" style="text-align: right;">250.00</span>
                            </div>
                        </div>
                        <div class="card-action"></div>
                    </div>

                    <!-- Card 2 -->
                    <div class="advisory-card">
                        <div class="card-header">
                            <div class="card-header-left">
                                <span>Created on: 30 DEC, 11:45 AM</span>
                            </div>
                            <div class="alpha-market">
                                 <span>AlphaMarket</span>
                                 <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                            </div>
                        </div>
                        <div class="card-stock-info">
                            <div>
                                <div class="card-stock-name">RAYMOND</div>
                                <div class="card-stock-desc">Raymond Ltd</div>
                            </div>
                            <div>
                                <div class="card-stock-price">1,850.40</div>
                                <div class="card-stock-change">+12.50 (0.68%)</div>
                            </div>
                        </div>
                        <div class="card-metrics">
                            <div class="metric-item">
                                <span class="metric-label">Stop-loss</span>
                                <span class="metric-value">400.00</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Entry price</span>
                                <span class="metric-value">450.00</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label" style="text-align: right;">Target</span>
                                <span class="metric-value" style="text-align: right;">550.00</span>
                            </div>
                        </div>
                        <div class="card-action"></div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item" onclick="showScreen('screen-main')">
                    <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                    <span class="nav-label">Home</span>
                </div>
                <div class="nav-item" onclick="showScreen('screen-main')">
                    <svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                    <span class="nav-label">My lists</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <span class="nav-label">Orders</span>
                </div>
                <div class="nav-item active" onclick="showScreen('screen-portfolio')">
                    <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg>
                    <span class="nav-label">Portfolio</span>
                </div>
                <div class="nav-item">
                    <svg viewBox="0 0 24 24"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                    <span class="nav-label">Funds</span>
                </div>
            </div>

            <!-- System Navigation -->
            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>
        
        <!-- Screen: Trading Insights -->
        <div class="screen" id="screen-trading-insights">
            <div class="status-bar light">
                <div class="status-left"><span class="status-time">9:41</span></div>
                <div class="status-icons">
                    <svg viewBox="0 0 16 16"><path d="M8 1L1 8h3v6h8V8h3L8 1z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M1 14h2V6H1v8zm4 0h2V2H5v12zm4 0h2V9H9v5zm4 0h2v-3h-2v3z"/></svg>
                    <svg viewBox="0 0 16 16"><path d="M4 2v12h8V2H4zm6 10H6V4h4v8z"/></svg>
                </div>
            </div>
            <div class="header-light">
                <div class="header-back" onclick="showScreen('screen-portfolio')">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </div>
                <span class="header-light-title">Trading Insights</span>
            </div>
            
            <div class="portfolio-tabs">
                <div class="portfolio-tab active">F&O</div>
                <div class="portfolio-tab">Equity Intraday</div>
            </div>

            <!-- Trading Insights Sub Tabs (Pills) -->
            <div class="portfolio-sub-tabs" style="padding: 12px 16px; background: var(--bg-default); border-bottom: none;">
                <div class="portfolio-sub-tab active" onclick="switchInsightTab('summary')">Trading Summary</div>
                <div class="portfolio-sub-tab" onclick="switchInsightTab('history')">Order History</div>
            </div>

            <!-- Trading Summary Content -->
            <div id="trading-summary-content" style="flex: 1; display: flex; flex-direction: column;">
                <div style="padding: 40px 20px; flex: 1; display: flex; align-items: center; justify-content: center; color: var(--text-2); flex-direction: column;">
                    <svg viewBox="0 0 24 24" style="width: 48px; height: 48px; fill: var(--text-2); margin-bottom: 16px;"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <div style="font-size: 16px; font-weight: 500; margin-bottom: 4px;">No positions yet</div>
                    <div style="font-size: 14px; opacity: 0.7;">You'll find your regular positions here</div>
                </div>
            </div>

            <!-- Order History Content -->
            <div id="order-history-content" style="display: none; flex: 1; flex-direction: column;">
                <div class="order-history-container">
                    <div class="order-history-header">
                        <span>Scrip</span>
                        <span>Realised P&L</span>
                    </div>
                    
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl">10,722.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl negative">-17,303.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl negative">-7,854.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl">75,659.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl negative">-8,331.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl">57,432.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl">14,312.00</span>
                    </div>
                    <div class="order-row" onclick="showScreen('screen-trade-details')" style="cursor: pointer;">
                        <div class="order-info-left">
                            <span class="order-scrip">NIFTY 22500 CE</span>
                            <span class="order-meta">NFO 08 MAY 25</span>
                        </div>
                        <span class="order-pnl negative">-11,243.00</span>
                    </div>

                    <div style="flex: 1;"></div>

                    <div class="pagination">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#E1E1E1" stroke-width="2" style="cursor: pointer;"><path d="M15 18l-6-6 6-6"/></svg>
                        <div class="page-num">1</div>
                        <div class="page-num active">2</div>
                        <div class="page-num">3</div>
                        <div class="page-num">4</div>
                        <div class="page-num">5</div>
                        <div class="page-num">6</div>
                        <div class="page-num">7</div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#E1E1E1" stroke-width="2" style="cursor: pointer;"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>

            <!-- System Navigation -->
            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>

        <!-- Screen: Trade Details -->
        <div class="screen" id="screen-trade-details">
            <div class="header-light" style="justify-content: space-between; padding: 0 16px; height: 56px; border-bottom: 1px solid #E1E1E1;">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <div class="header-back" onclick="showScreen('screen-trading-insights')">
                        <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                    </div>
                    <span style="font-size: 16px; font-weight: 600;">F&O insights</span>
                </div>
                <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; fill: #262626;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/></svg>
            </div>
            
            <div style="background: #F2F2F2; padding: 12px 16px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid #E1E1E1;">
                <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; fill: #262626; transform: rotate(0deg);"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                <span style="font-size: 14px; font-weight: 600;">Trade breakdown</span>
            </div>

            <!-- Trade Details Tabs -->
            <div class="portfolio-tabs">
                <div class="portfolio-tab active" onclick="switchTradeDetailTab('summary')">Summary</div>
                <div class="portfolio-tab" onclick="switchTradeDetailTab('scenario')">Scenario Analysis</div>
            </div>

            <div class="trade-details-content">
                <!-- Summary Tab Content -->
                <div id="trade-summary-content">
                    <div class="trade-stats-title">Trade statistics</div>
                    
                    <div class="stat-row">
                        <span class="stat-label">Scrip name</span>
                        <span class="stat-value">NIFTY 22500CE  08 MAY 2025</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Entry price</span>
                        <span class="stat-value">1,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Exit price</span>
                        <span class="stat-value">1,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Entry date</span>
                        <span class="stat-value">00-00-0000 00:00:00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Exit date</span>
                        <span class="stat-value">00-00-0000 00:00:00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Qty</span>
                        <span class="stat-value">1,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Buy Avg</span>
                        <span class="stat-value">1,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Sell Avg</span>
                        <span class="stat-value">10,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Gross P&L</span>
                        <span class="stat-value">10,000.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Avg delta on entry</span>
                        <span class="stat-value">10,000.00</span>
                    </div>
                </div>

                <!-- Scenario Analysis Tab Content -->
                <div id="trade-scenario-content" style="display: none; background: #FFFFFF; flex: 1; flex-direction: column;">
                    <!-- Scenario Sub Tabs (Pills) -->
                    <div class="portfolio-sub-tabs" style="padding: 12px 16px; background: var(--bg-default); border-bottom: 1px solid #F2F2F2; overflow-x: auto; white-space: nowrap; gap: 8px; display: flex;">
                        <div class="portfolio-sub-tab active" onclick="switchScenarioSubTab(this, 'alternate')">Alternate Strike</div>
                        <div class="portfolio-sub-tab" onclick="switchScenarioSubTab(this, 'entry')">Entry Timing</div>
                        <div class="portfolio-sub-tab" onclick="switchScenarioSubTab(this, 'exit')">Exit Timing</div>
                        <div class="portfolio-sub-tab" onclick="switchScenarioSubTab(this, 'price')">Option Price Breakdown</div>
                    </div>

                    <div style="padding: 20px 16px;">
                        <div style="font-size: 16px; font-weight: 700; color: #262626; margin-bottom: 4px;">What if you had selected different strikes</div>
                        <div style="font-size: 14px; color: #148564; font-weight: 600; margin-bottom: 24px;">Best Alternative Strike: 22100 CE (+ 2,500 P&L)</div>

                        <!-- Analysis Table -->
                        <div style="width: 100%; border-collapse: collapse; display: table;">
                            <div style="display: table-header-group; border-bottom: 1px solid #F2F2F2;">
                                <div style="display: table-row;">
                                    <div style="display: table-cell; padding: 12px 0; font-size: 12px; color: #6A6A6A; font-weight: 600;">STRIKE</div>
                                    <div style="display: table-cell; padding: 12px 0; font-size: 12px; color: #6A6A6A; font-weight: 600; text-align: right;">P&L (COMPARISON)</div>
                                </div>
                            </div>
                            <div style="display: table-row-group;">
                                <!-- Best Strike -->
                                <div style="display: table-row; border-bottom: 1px solid #F2F2F2; cursor: pointer;" onclick="showHypotheticalTrade('22100 CE', '2,500', '+ 500 better')">
                                    <div style="display: table-cell; padding: 16px 0; font-size: 14px; color: #262626; font-weight: 500;">22100 CE</div>
                                    <div style="display: table-cell; padding: 16px 0; text-align: right;">
                                        <div style="font-size: 14px; color: #148564; font-weight: 700;">2,500</div>
                                        <div style="font-size: 11px; color: #148564;">(+ 500 better)</div>
                                    </div>
                                </div>
                                <!-- Better Strike -->
                                <div style="display: table-row; border-bottom: 1px solid #F2F2F2; cursor: pointer;" onclick="showHypotheticalTrade('22200 CE', '2,300', '+ 300 better')">
                                    <div style="display: table-cell; padding: 16px 0; font-size: 14px; color: #262626;">22200 CE</div>
                                    <div style="display: table-cell; padding: 16px 0; text-align: right;">
                                        <div style="font-size: 14px; color: #148564; font-weight: 700;">2,300</div>
                                        <div style="font-size: 11px; color: #148564;">(+ 300 better)</div>
                                    </div>
                                </div>
                                <!-- Actual Strike -->
                                <div style="display: table-row; border-bottom: 1px solid #F2F2F2; background: #F7F4F9; cursor: pointer;" onclick="showHypotheticalTrade('22300 CE', '2,000', 'Actual trade')">
                                    <div style="display: table-cell; padding: 16px 8px; font-size: 14px; color: #262626; font-weight: 700;">22300 CE <span style="font-size: 10px; background: #7A26CE; color: #fff; padding: 2px 6px; border-radius: 4px; margin-left: 4px;">ACTUAL</span></div>
                                    <div style="display: table-cell; padding: 16px 8px; text-align: right;">
                                        <div style="font-size: 14px; color: #262626; font-weight: 700;">2,000</div>
                                    </div>
                                </div>
                                <!-- Worse Strike -->
                                <div style="display: table-row; border-bottom: 1px solid #F2F2F2; cursor: pointer;" onclick="showHypotheticalTrade('22400 CE', '1,800', '- 200 worse')">
                                    <div style="display: table-cell; padding: 16px 0; font-size: 14px; color: #262626;">22400 CE</div>
                                    <div style="display: table-cell; padding: 16px 0; text-align: right;">
                                        <div style="font-size: 14px; color: #DB542A; font-weight: 700;">1,800</div>
                                        <div style="font-size: 11px; color: #DB542A;">(- 200 worse)</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Common Details -->
                        <div style="margin-top: 32px; padding: 16px; background: #FAFAFA; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                                <div>
                                    <div style="font-size: 11px; color: #6A6A6A; margin-bottom: 2px;">ENTRY TIME</div>
                                    <div style="font-size: 13px; color: #262626; font-weight: 500;">18-10-2025  2:15 PM</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 11px; color: #6A6A6A; margin-bottom: 2px;">EXIT TIME</div>
                                    <div style="font-size: 13px; color: #262626; font-weight: 500;">19-10-2025  3:00 PM</div>
                                </div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: #6A6A6A; margin-bottom: 2px;">QUANTITY</div>
                                <div style="font-size: 13px; color: #262626; font-weight: 500;">550</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- System Navigation -->
            <div class="system-nav">
                <div class="system-nav-btn">
                    <svg width="15" height="17" viewBox="0 0 15 17"><rect x="0" y="0" width="15" height="17" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
                <div class="system-nav-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" rx="2" stroke="white" stroke-width="2" fill="none"/></svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Watchlist Sheet -->
    <div class="create-watchlist-overlay" id="create-watchlist-overlay" onclick="hideCreateWatchlistSheet()"></div>
    <div class="create-watchlist-sheet" id="create-watchlist-sheet">
        <div class="bottom-sheet-handle"></div>
        <div class="create-watchlist-title">Create New Watchlist</div>
        <div class="create-watchlist-input-container">
            <label class="create-watchlist-label">Watchlist Name</label>
            <input type="text" class="create-watchlist-input" id="watchlist-name-input" placeholder="Enter watchlist name" maxlength="30">
        </div>
        <button class="create-watchlist-btn" id="create-watchlist-btn" onclick="createNewWatchlist()">Create Watchlist</button>
    </div>

    <!-- Hypothetical Trade Modal Sheet -->
    <div class="hypothetical-overlay" id="hypothetical-overlay" onclick="hideHypotheticalTrade()"></div>
    <div class="hypothetical-sheet" id="hypothetical-sheet">
        <div class="bottom-sheet-handle" style="align-self: center; margin-top: 8px;"></div>
        <div class="hypothetical-header">
            <div>
                <div class="hypothetical-title">Hypothetical trade statistics</div>
                <div class="hypothetical-subtitle" id="hypothetical-strike-info">NIFTY 22100 CE  Oct Expiry</div>
            </div>
            <div style="cursor: pointer;" onclick="hideHypotheticalTrade()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </div>
        </div>
        <div class="hypothetical-content">
            <div class="stat-group">
                <div class="stat-row">
                    <span class="stat-label">Scrip</span>
                    <span class="stat-value">NIFTY</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Strike</span>
                    <span class="stat-value" id="modal-strike">22100 CE</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Entry Date time</span>
                    <span class="stat-value">18-10-2025  2:15 PM</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Entry Price</span>
                    <span class="stat-value" id="modal-entry-price">145.20</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Exit Date time</span>
                    <span class="stat-value">19-10-2025  3:00 PM</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Exit Price</span>
                    <span class="stat-value" id="modal-exit-price">168.40</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">QTY</span>
                    <span class="stat-value">550</span>
                </div>
            </div>
            <div class="stat-group">
                <div class="stat-row">
                    <span class="stat-label">Buy Avg</span>
                    <span class="stat-value">145.20</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Sell Avg</span>
                    <span class="stat-value">168.40</span>
                </div>
                <div class="stat-row" style="border-top: 1px solid #F2F2F2; margin-top: 8px; padding-top: 12px;">
                    <span class="stat-label" style="font-weight: 700; color: #262626;">Gross P&L</span>
                    <span class="stat-value" id="modal-pnl" style="font-size: 16px; color: #148564; font-weight: 700;">2,500</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Followed lists tracking
        let followedLists = JSON.parse(localStorage.getItem('followedLists1') || '[]');
        
        // Discover list data with stock content
        const discoverListData = {
            'highest-iv': {
                name: 'Highest IV',
                screenId: 'screen-highest-iv',
                columns: ['Scrip', 'IV', 'LTP'],
                stocks: [
                    { name: 'NIFTY 24500 CE', col2: '28.5%', price: '245.50', change: '+12.45%', positive: true },
                    { name: 'BANKNIFTY 52000 PE', col2: '32.1%', price: '180.25', change: '-8.20%', positive: false },
                    { name: 'RELIANCE 2950 CE', col2: '25.8%', price: '42.30', change: '+5.65%', positive: true },
                    { name: 'TCS 4200 PE', col2: '22.4%', price: '65.80', change: '-3.10%', positive: false }
                ]
            },
            'options-volume': {
                name: 'Options Volume',
                screenId: 'screen-options-volume',
                columns: ['Scrip', 'Volume', 'LTP'],
                stocks: [
                    { name: 'NIFTY 24500 CE', col2: '2.5M', price: '245.50', change: '+12.45%', positive: true },
                    { name: 'BANKNIFTY 52000 CE', col2: '1.8M', price: '320.75', change: '+8.20%', positive: true },
                    { name: 'NIFTY 24400 PE', col2: '1.5M', price: '180.25', change: '-5.65%', positive: false }
                ]
            },
            'highest-oi': {
                name: 'Highest OI',
                screenId: 'screen-highest-oi',
                columns: ['Scrip', 'OI', 'LTP'],
                stocks: [
                    { name: 'NIFTY 24500 CE', col2: '15.2M', price: '245.50', change: '+12.45%', positive: true },
                    { name: 'BANKNIFTY 52000 PE', col2: '12.8M', price: '180.25', change: '-8.20%', positive: false },
                    { name: 'NIFTY 24600 CE', col2: '10.5M', price: '142.30', change: '+5.65%', positive: true }
                ]
            },
            'oi-change': {
                name: 'OI Change',
                screenId: 'screen-oi-change',
                columns: ['Scrip', 'OI Chg', 'LTP'],
                stocks: [
                    { name: 'NIFTY 24500 CE', col2: '+2.5M', price: '245.50', change: '+12.45%', positive: true },
                    { name: 'BANKNIFTY 52000 CE', col2: '+1.8M', price: '320.75', change: '+8.20%', positive: true },
                    { name: 'RELIANCE 2950 PE', col2: '-0.8M', price: '28.50', change: '-3.10%', positive: false }
                ]
            },
            'ipo-access': {
                name: 'IPO Access',
                screenId: 'screen-ipo',
                columns: ['Scrip', 'Listing Gains', 'LTP'],
                stocks: [
                    { name: 'GROWW', meta: 'Listed Dec 2025', col2: '+7.5%', price: '1,285.60', change: '+3.25%', positive: true },
                    { name: 'SWIGGY', meta: 'Listed Nov 2025', col2: '+25.2%', price: '542.80', change: '-1.45%', positive: false },
                    { name: 'MEESHO', meta: 'Listed Oct 2025', col2: '+9.8%', price: '385.40', change: '+2.10%', positive: true },
                    { name: 'OLA ELECTRIC', meta: 'Listed Sep 2025', col2: '-12.5%', price: '72.30', change: '-4.85%', positive: false }
                ]
            },
            'dividend': {
                name: 'Dividend Stocks',
                screenId: 'screen-dividend',
                columns: ['Scrip', 'Yield', 'LTP'],
                stocks: [
                    { name: 'COAL INDIA', col2: '8.2%', price: '425.60', change: '+1.25%', positive: true },
                    { name: 'VEDANTA', col2: '7.8%', price: '342.80', change: '-0.45%', positive: false },
                    { name: 'HINDUSTAN ZINC', col2: '6.5%', price: '585.40', change: '+2.10%', positive: true },
                    { name: 'IOC', col2: '9.2%', price: '142.30', change: '-1.85%', positive: false }
                ]
            },
            'gap-up': {
                name: 'Gap-up',
                screenId: 'screen-gap-up',
                columns: ['Scrip', 'Gap %', 'LTP'],
                stocks: [
                    { name: 'TATA MOTORS', col2: '+5.2%', price: '825.60', change: '+6.25%', positive: true },
                    { name: 'WIPRO', col2: '+3.8%', price: '542.80', change: '+4.45%', positive: true },
                    { name: 'BAJAJ AUTO', col2: '+2.5%', price: '8,585.40', change: '+3.10%', positive: true }
                ]
            },
            'gap-down': {
                name: 'Gap-down',
                screenId: 'screen-gap-down',
                columns: ['Scrip', 'Gap %', 'LTP'],
                stocks: [
                    { name: 'ADANI PORTS', col2: '-4.2%', price: '1,125.60', change: '-5.25%', positive: false },
                    { name: 'BHARTI AIRTEL', col2: '-2.8%', price: '1,342.80', change: '-3.45%', positive: false },
                    { name: 'GRASIM', col2: '-1.5%', price: '2,085.40', change: '-2.10%', positive: false }
                ]
            },
            '52w-high': {
                name: '52W High',
                screenId: 'screen-52w-high',
                columns: ['Scrip', '% from High', 'LTP'],
                stocks: [
                    { name: 'TRENT', col2: '0%', price: '6,825.60', change: '+2.25%', positive: true },
                    { name: 'ZOMATO', col2: '-0.5%', price: '242.80', change: '+1.45%', positive: true },
                    { name: 'PERSISTENT', col2: '-1.2%', price: '5,585.40', change: '+0.85%', positive: true }
                ]
            },
            '52w-low': {
                name: '52W Low',
                screenId: 'screen-52w-low',
                columns: ['Scrip', '% from Low', 'LTP'],
                stocks: [
                    { name: 'PAYTM', col2: '+2%', price: '425.60', change: '-1.25%', positive: false },
                    { name: 'INDUS TOWERS', col2: '+5%', price: '342.80', change: '-0.45%', positive: false },
                    { name: 'VODAFONE IDEA', col2: '+8%', price: '12.40', change: '+0.85%', positive: true }
                ]
            },
            'macd': {
                name: 'MACD Bullish',
                screenId: 'screen-macd',
                columns: ['Scrip', 'Signal', 'LTP'],
                stocks: [
                    { name: 'HDFC BANK', col2: 'Bullish Cross', price: '1,678.30', change: '+1.25%', positive: true },
                    { name: 'ICICI BANK', col2: 'Bullish Cross', price: '1,242.80', change: '+2.45%', positive: true },
                    { name: 'SBI', col2: 'Bullish Cross', price: '785.40', change: '+1.10%', positive: true }
                ]
            },
            'roce': {
                name: 'Top ROCE',
                screenId: 'screen-roce',
                columns: ['Scrip', 'ROCE', 'LTP'],
                stocks: [
                    { name: 'TCS', col2: '58.2%', price: '4,125.80', change: '+0.85%', positive: true },
                    { name: 'INFOSYS', col2: '42.5%', price: '1,850.15', change: '+2.10%', positive: true },
                    { name: 'NESTLE', col2: '115.8%', price: '2,485.40', change: '+0.65%', positive: true }
                ]
            },
            'low-pe': {
                name: 'Low PE',
                screenId: 'screen-low-pe',
                columns: ['Scrip', 'PE', 'LTP'],
                stocks: [
                    { name: 'COAL INDIA', col2: '6.8', price: '425.60', change: '+1.25%', positive: true },
                    { name: 'ONGC', col2: '7.2', price: '242.80', change: '-0.45%', positive: false },
                    { name: 'NTPC', col2: '8.5', price: '385.40', change: '+1.10%', positive: true }
                ]
            }
        };

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function showAddSheet() {
            document.getElementById('sheet-overlay').classList.add('active');
            document.getElementById('add-sheet').classList.add('active');
        }

        function hideAddSheet() {
            document.getElementById('sheet-overlay').classList.remove('active');
            document.getElementById('add-sheet').classList.remove('active');
        }

        // Create Watchlist Sheet functions
        function showCreateWatchlistSheet() {
            document.getElementById('create-watchlist-overlay').style.display = 'block';
            document.getElementById('create-watchlist-sheet').style.display = 'flex';
            document.getElementById('watchlist-name-input').value = '';
            document.getElementById('watchlist-name-input').focus();
        }

        function hideCreateWatchlistSheet() {
            document.getElementById('create-watchlist-overlay').style.display = 'none';
            document.getElementById('create-watchlist-sheet').style.display = 'none';
        }

        // User watchlists tracking
        let userWatchlists = JSON.parse(localStorage.getItem('userWatchlists1') || '[]');

        function createNewWatchlist() {
            const input = document.getElementById('watchlist-name-input');
            const name = input.value.trim();
            
            if (!name) {
                alert('Please enter a watchlist name');
                return;
            }
            
            // Generate unique ID
            const id = 'user-' + Date.now();
            
            // Add to userWatchlists
            userWatchlists.push({ id, name, stocks: [] });
            localStorage.setItem('userWatchlists1', JSON.stringify(userWatchlists));
            
            // Add tab
            addUserWatchlistTab(id, name);
            
            // Create empty content for this list
            createUserWatchlistContent(id, name);
            
            // Hide sheet and switch to new tab
            hideCreateWatchlistSheet();
            selectWatchlistTab(id);
        }

        function addUserWatchlistTab(id, name) {
            const tabsContainer = document.getElementById('tabs');
            const tabActions = tabsContainer.querySelector('.tab-actions');
            
            // Check if tab already exists
            if (tabsContainer.querySelector(`[data-tab="${id}"]`)) return;
            
            // Create new tab
            const newTab = document.createElement('div');
            newTab.className = 'watchlist-tab';
            newTab.setAttribute('data-tab', id);
            newTab.setAttribute('data-type', 'user');
            newTab.textContent = name;
            newTab.onclick = function() { selectWatchlistTab(id); };
            
            // Insert before tab actions
            tabsContainer.insertBefore(newTab, tabActions);
        }

        function createUserWatchlistContent(id, name) {
            const stockListEl = document.getElementById('stock-list');
            const floatingCta = document.getElementById('floating-cta');
            
            // Create content div
            const contentDiv = document.createElement('div');
            contentDiv.id = `content-${id}`;
            contentDiv.className = 'user-watchlist-content';
            contentDiv.style.display = 'none';
            
            // Empty state
            contentDiv.innerHTML = `
                <div class="empty-watchlist">
                    <div class="empty-watchlist-icon">
                        <svg viewBox="0 0 24 24" width="48" height="48"><path fill="#ccc" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                    </div>
                    <div class="empty-watchlist-text">No stocks added yet</div>
                    <div class="empty-watchlist-hint">Search and add stocks to this watchlist</div>
                </div>
            `;
            
            // Insert after stock-list but before floating CTA
            if (floatingCta) {
                stockListEl.parentElement.insertBefore(contentDiv, floatingCta);
            } else {
                stockListEl.parentElement.insertBefore(contentDiv, stockListEl.nextSibling);
            }
        }

        // Initialize user watchlists on page load
        function initUserWatchlists() {
            userWatchlists.forEach(wl => {
                addUserWatchlistTab(wl.id, wl.name);
                createUserWatchlistContent(wl.id, wl.name);
            });
        }

        function toggleFollow(btn, listId) {
            btn.classList.toggle('following');
            if (btn.classList.contains('following')) {
                btn.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Following';
                
                // Add to followed lists
                if (listId && !followedLists.includes(listId)) {
                    followedLists.push(listId);
                    localStorage.setItem('followedLists1', JSON.stringify(followedLists));
                    addFollowedListTab(listId);
                }
                
                // Navigate back to Main Watchlist screen after following
                setTimeout(() => {
                    showScreen('screen-main');
                    // Select the newly added tab
                    if (listId) {
                        selectWatchlistTab(listId);
                    }
                }, 300);
            } else {
                btn.innerHTML = '<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg> Follow';
                
                // Remove from followed lists
                if (listId) {
                    followedLists = followedLists.filter(id => id !== listId);
                    localStorage.setItem('followedLists1', JSON.stringify(followedLists));
                    removeFollowedListTab(listId);
                }
            }
            // Update SVG fill color based on button type and state
            const svg = btn.querySelector('svg');
            if (svg) {
                if (btn.classList.contains('bottom-cta-button')) {
                    svg.style.fill = btn.classList.contains('following') ? 'var(--bg-primary)' : 'var(--text-3)';
                }
            }
        }
        
        function addFollowedListTab(listId) {
            const listData = discoverListData[listId];
            if (!listData) return;
            
            const tabsContainer = document.getElementById('tabs');
            const tabActions = tabsContainer.querySelector('.tab-actions');
            
            // Check if tab already exists
            if (tabsContainer.querySelector(`[data-tab="${listId}"]`)) return;
            
            // Create new tab
            const newTab = document.createElement('div');
            newTab.className = 'watchlist-tab';
            newTab.setAttribute('data-tab', listId);
            newTab.setAttribute('data-type', 'discover');
            newTab.textContent = listData.name;
            newTab.onclick = function() { selectWatchlistTab(listId); };
            
            // Insert before tab actions
            tabsContainer.insertBefore(newTab, tabActions);
            
            // Create content section for this list
            createListContent(listId);
        }
        
        function removeFollowedListTab(listId) {
            const tabsContainer = document.getElementById('tabs');
            const tab = tabsContainer.querySelector(`[data-tab="${listId}"]`);
            if (tab) {
                tab.remove();
                // If this was the active tab, switch to first tab
                if (tab.classList.contains('active')) {
                    selectWatchlistTab('my-first');
                }
            }
            // Remove content section
            const content = document.getElementById(`content-${listId}`);
            if (content) content.remove();
        }
        
        function createListContent(listId) {
            const listData = discoverListData[listId];
            if (!listData) return;
            
            // Check if content already exists
            if (document.getElementById(`content-${listId}`)) return;
            
            const stockListEl = document.getElementById('stock-list');
            const floatingCta = document.getElementById('floating-cta');
            
            // Create content div
            const contentDiv = document.createElement('div');
            contentDiv.id = `content-${listId}`;
            contentDiv.className = 'discover-list-content';
            contentDiv.style.display = 'none';
            
            // Add column headers
            const headers = document.createElement('div');
            headers.className = 'three-column-header';
            headers.innerHTML = `
                <span>${listData.columns[0]}</span>
                <span>${listData.columns[1]}</span>
                <span>${listData.columns[2]}</span>
            `;
            contentDiv.appendChild(headers);
            
            // Add stock rows
            const stockList = document.createElement('div');
            stockList.className = 'stock-list';
            
            listData.stocks.forEach(stock => {
                const row = document.createElement('div');
                row.className = 'stock-row three-column';
                row.innerHTML = `
                    <div class="stock-left">
                        <div class="stock-symbol">${stock.name}</div>
                        ${stock.meta ? `<div class="stock-meta">${stock.meta}</div>` : ''}
                    </div>
                    <div class="stock-middle ${stock.col2.startsWith('+') ? 'positive' : stock.col2.startsWith('-') ? 'negative' : ''}">${stock.col2}</div>
                    <div class="stock-right">
                        <div class="stock-price ${stock.positive ? 'positive' : 'negative'}">${stock.price}</div>
                        <div class="stock-change ${stock.positive ? 'positive' : 'negative'}">${stock.change}</div>
                    </div>
                `;
                stockList.appendChild(row);
            });
            
            contentDiv.appendChild(stockList);
            
            // Insert after stock-list but before floating CTA
            if (floatingCta) {
                stockListEl.parentElement.insertBefore(contentDiv, floatingCta);
            } else {
                stockListEl.parentElement.insertBefore(contentDiv, stockListEl.nextSibling);
            }
        }
        
        function selectWatchlistTab(tabId) {
            // Update tab styling
            const tabs = document.querySelectorAll('#tabs .watchlist-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            const selectedTab = document.querySelector(`#tabs [data-tab="${tabId}"]`);
            if (selectedTab) selectedTab.classList.add('active');
            
            // Check if it's a user list (my-first or user-created)
            const isUserList = tabId === 'my-first' || tabId.startsWith('user-');
            
            // Show/hide edit icon based on list type
            const editIcon = document.querySelector('.floating-cta-edit');
            const separator = document.querySelector('.floating-cta-separator');
            if (isUserList) {
                // User's own list - show edit icon
                if (editIcon) editIcon.style.display = 'flex';
                if (separator) separator.style.display = 'block';
            } else {
                // Discover list - hide edit icon, only show sort
                if (editIcon) editIcon.style.display = 'none';
                if (separator) separator.style.display = 'none';
            }
            
            // Hide all content sections first
            document.getElementById('stock-list').style.display = 'none';
            document.querySelectorAll('.discover-list-content').forEach(c => c.style.display = 'none');
            document.querySelectorAll('.user-watchlist-content').forEach(c => c.style.display = 'none');
            
            // Show appropriate content
            if (tabId === 'my-first') {
                document.getElementById('stock-list').style.display = 'block';
            } else {
                const content = document.getElementById(`content-${tabId}`);
                if (content) content.style.display = 'block';
            }
        }
        
        // Initialize followed lists on page load
        function initFollowedLists() {
            // Remove hardcoded IPO Access tab if exists
            const ipoTab = document.querySelector('#tabs [data-tab="ipo-access"]');
            if (ipoTab) ipoTab.remove();
            
            // Add tabs for all followed lists
            followedLists.forEach(listId => {
                addFollowedListTab(listId);
            });
            
            // Update follow buttons state on detail screens
            followedLists.forEach(listId => {
                const listData = discoverListData[listId];
                if (listData) {
                    const screen = document.getElementById(listData.screenId);
                    if (screen) {
                        const followBtn = screen.querySelector('.bottom-cta-button');
                        if (followBtn) {
                            followBtn.classList.add('following');
                            followBtn.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Following';
                        }
                    }
                }
            });
        }
        
        // Call init on page load
        document.addEventListener('DOMContentLoaded', function() {
            initFollowedLists();
            initUserWatchlists();
        });

        // Dropdown Filter Functions
        function toggleDropdown(dropdown) {
            // Close all other dropdowns first
            document.querySelectorAll('.dropdown-menu.active').forEach(menu => {
                if (menu.parentElement !== dropdown) {
                    menu.classList.remove('active');
                }
            });
            
            // Toggle current dropdown
            const menu = dropdown.querySelector('.dropdown-menu');
            menu.classList.toggle('active');
        }

        function selectOption(event, option) {
            event.stopPropagation();
            
            const dropdown = option.closest('.filter-dropdown');
            const menu = option.closest('.dropdown-menu');
            const label = dropdown.querySelector('.filter-dropdown-label');
            
            // Update selected state
            menu.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
            
            // Update label
            label.textContent = option.textContent;
            
            // Close dropdown
            menu.classList.remove('active');
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.filter-dropdown')) {
                document.querySelectorAll('.dropdown-menu.active').forEach(menu => {
                    menu.classList.remove('active');
                });
            }
        });

        // Filter chip selection
        // Filter discover category by pills for Option 1
        function filterDiscoverCategory1(chip, category) {
            const pills = document.querySelectorAll('#discover-pills-1 .filter-chip');
            const sections = document.querySelectorAll('#discover-list-1 .discover-section');
            
            // If clicking on already active pill, deselect it and show all
            if (chip.classList.contains('active')) {
                chip.classList.remove('active');
                sections.forEach(section => section.style.display = 'block');
                return;
            }
            
            // Remove active from all pills
            pills.forEach(p => p.classList.remove('active'));
            
            // Add active to clicked pill
            chip.classList.add('active');
            
            // Filter sections
            sections.forEach(section => {
                if (section.dataset.category === category) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        }

        // Sort Sheet functions
        function showSortSheet() {
            document.getElementById('sort-sheet-overlay').style.display = 'block';
            document.getElementById('sort-sheet').style.display = 'flex';
        }

        function hideSortSheet() {
            document.getElementById('sort-sheet-overlay').style.display = 'none';
            document.getElementById('sort-sheet').style.display = 'none';
        }

        function selectSort(sortType, displayText) {
            // Remove active from all options
            document.querySelectorAll('.sort-option').forEach(opt => opt.classList.remove('active'));
            // Add active to clicked option
            event.currentTarget.classList.add('active');
            // Update display text
            document.getElementById('current-sort-text').textContent = displayText;
            // Close sheet
            hideSortSheet();
            // Here you would implement actual sorting logic
            console.log('Sorting by:', sortType);
        }

        // Edit Mode functions
        function showEditMode() {
            // Hide floating CTA
            document.getElementById('floating-cta').style.display = 'none';
            // Show edit mode header
            const editHeader = document.getElementById('edit-mode-header');
            if (editHeader) editHeader.classList.add('active');
            // Transform stock list to edit mode
            transformToEditMode();
        }

        function hideEditMode() {
            // Show floating CTA
            document.getElementById('floating-cta').style.display = 'flex';
            // Hide edit mode header
            const editHeader = document.getElementById('edit-mode-header');
            if (editHeader) editHeader.classList.remove('active');
            // Restore stock list
            restoreFromEditMode();
        }

        function transformToEditMode() {
            const stockList = document.getElementById('stock-list');
            if (!stockList) return;
            
            stockList.querySelectorAll('.stock-row').forEach(row => {
                // Skip if already in edit mode
                if (row.classList.contains('edit-mode')) return;
                
                row.classList.add('edit-mode');
                
                // Add checkbox at start
                const checkbox = document.createElement('div');
                checkbox.className = 'stock-checkbox';
                checkbox.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';
                checkbox.onclick = function(e) {
                    e.stopPropagation();
                    this.classList.toggle('selected');
                };
                row.insertBefore(checkbox, row.firstChild);
                
                // Add drag handle at end
                const dragHandle = document.createElement('div');
                dragHandle.className = 'drag-handle';
                dragHandle.innerHTML = '<svg viewBox="0 0 24 24"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"/></svg>';
                row.appendChild(dragHandle);
                
                // Hide right column (price/change)
                const stockRight = row.querySelector('.stock-right');
                if (stockRight) stockRight.style.display = 'none';
            });
        }

        function restoreFromEditMode() {
            const stockList = document.getElementById('stock-list');
            if (!stockList) return;
            
            stockList.querySelectorAll('.stock-row.edit-mode').forEach(row => {
                row.classList.remove('edit-mode');
                
                // Remove checkbox
                const checkbox = row.querySelector('.stock-checkbox');
                if (checkbox) checkbox.remove();
                
                // Remove drag handle
                const dragHandle = row.querySelector('.drag-handle');
                if (dragHandle) dragHandle.remove();
                
                // Show right column
                const stockRight = row.querySelector('.stock-right');
                if (stockRight) stockRight.style.display = '';
            });
        }

        function deleteSelectedStocks() {
            const selected = document.querySelectorAll('.stock-checkbox.selected');
            if (selected.length === 0) {
                alert('No stocks selected');
                return;
            }
            if (confirm('Delete ' + selected.length + ' selected stock(s)?')) {
                selected.forEach(cb => cb.closest('.stock-row').remove());
            }
        }

        function saveEditChanges() {
            alert('Changes saved!');
            hideEditMode();
        }

        // Tab switching logic for Portfolio and Trading Insights
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.portfolio-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const container = this.closest('.portfolio-tabs');
                    container.querySelectorAll('.portfolio-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            document.querySelectorAll('.portfolio-sub-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const container = this.closest('.portfolio-sub-tabs');
                    container.querySelectorAll('.portfolio-sub-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            document.querySelectorAll('.advisory-pill').forEach(pill => {
                pill.addEventListener('click', function() {
                    const container = this.closest('.advisory-pills');
                    container.querySelectorAll('.advisory-pill').forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });

        function switchInsightTab(type) {
            const summaryContent = document.getElementById('trading-summary-content');
            const historyContent = document.getElementById('order-history-content');
            
            if (type === 'summary') {
                summaryContent.style.display = 'flex';
                historyContent.style.display = 'none';
            } else {
                summaryContent.style.display = 'none';
                historyContent.style.display = 'flex';
            }
        }

        function switchTradeDetailTab(type) {
            const summaryContent = document.getElementById('trade-summary-content');
            const scenarioContent = document.getElementById('trade-scenario-content');
            const tabs = document.querySelectorAll('#screen-trade-details .portfolio-tab');
            
            // Update Tab Styling
            tabs.forEach(t => t.classList.remove('active'));
            if (type === 'summary') {
                tabs[0].classList.add('active');
                summaryContent.style.display = 'block';
                scenarioContent.style.display = 'none';
            } else {
                tabs[1].classList.add('active');
                summaryContent.style.display = 'none';
                scenarioContent.style.display = 'block';
            }
        }

        function toggleScenario(card) {
            const details = card.querySelector('.scenario-details');
            const chevron = card.querySelector('.chevron');
            const isVisible = details.style.display === 'block';
            
            // Close others
            const allDetails = card.parentElement.querySelectorAll('.scenario-details');
            const allChevrons = card.parentElement.querySelectorAll('.chevron');
            
            allDetails.forEach(d => d.style.display = 'none');
            allChevrons.forEach(c => c.style.transform = 'rotate(0deg)');
            
            if (!isVisible) {
                details.style.display = 'block';
                chevron.style.transform = 'rotate(180deg)';
            }
        }

        function switchScenarioSubTab(tab, type) {
            const container = tab.parentElement;
            container.querySelectorAll('.portfolio-sub-tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            
            // Here you could add logic to filter cards based on type
            console.log('Switching scenario to:', type);
        }

        function showHypotheticalTrade(strike, pnl, comparison) {
            const overlay = document.getElementById('hypothetical-overlay');
            const sheet = document.getElementById('hypothetical-sheet');
            
            // Populate data
            document.getElementById('modal-strike').innerText = strike;
            document.getElementById('hypothetical-strike-info').innerText = `NIFTY ${strike}  Oct Expiry`;
            document.getElementById('modal-pnl').innerText = pnl;
            
            // Adjust colors based on P&L
            const pnlValue = document.getElementById('modal-pnl');
            if (pnl.includes('-')) {
                pnlValue.style.color = '#DB542A';
            } else {
                pnlValue.style.color = '#148564';
            }

            // Dummy prices based on strike
            if (strike === '22100 CE') {
                document.getElementById('modal-entry-price').innerText = '145.20';
                document.getElementById('modal-exit-price').innerText = '168.40';
            } else if (strike === '22200 CE') {
                document.getElementById('modal-entry-price').innerText = '120.50';
                document.getElementById('modal-exit-price').innerText = '138.80';
            } else if (strike === '22300 CE') {
                document.getElementById('modal-entry-price').innerText = '95.00';
                document.getElementById('modal-exit-price').innerText = '110.00';
            } else {
                document.getElementById('modal-entry-price').innerText = '75.40';
                document.getElementById('modal-exit-price').innerText = '82.20';
            }

            overlay.classList.add('active');
            sheet.classList.add('active');
        }

        function hideHypotheticalTrade() {
            const overlay = document.getElementById('hypothetical-overlay');
            const sheet = document.getElementById('hypothetical-sheet');
            overlay.classList.remove('active');
            sheet.classList.remove('active');
        }
    </script>
</body>
</html>
